[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "TIG’R est une ressource d’apprentissage pour le traitement de l’information géographique avec R. Ce site a été crée dans le cadre de l’école thématique Méthodes et outils de sciences territoriales organisée par le Collègue Internationnal des Sciences Territoriales et qui s’est déroulée à Ouidah (Bénin) en Mars 2023.\nCe site contient des supports de cours et exercices reproductibles qui tente de couvrir l’ensemble de la chaîne de traitement de données géographiques.\nL’ensemble du matériel mis à disposition est soumis à la Licence ouverte V2.0 d’Etalab."
  },
  {
    "objectID": "correction/tidyverse/correction_tidyverse.html",
    "href": "correction/tidyverse/correction_tidyverse.html",
    "title": "Application Tidyverse & ggplot2",
    "section": "",
    "text": "Exercice 1 ~ Application Tidyverse\n\n1. Importer la base de données DEV_AFRICA_2018 sous le nom DevAfrica2018\n\nlibrary(tidyverse)\n\n# Import des métadonnées\nmetaDataDEVAFRICA  &lt;- read.table(file = \"data/DEV_AFRICA_2018/afrika_don_meta.csv\", \n                           header = TRUE,\n                           sep= \";\",\n                           encoding = \"UTF-8\")\n\nlibrary(readxl)\nDevAfrica2018 &lt;- read_excel(\"data/DEV_AFRICA_2018/afrika_don.xls\")\n\n\n\n2. Sélectionner la liste des pays et leur region d’appartenance\n\n# Sélection de la liste des pays et leur region d'appartenance\nDevAfrica2018 %&gt;%\n  select(nom, SUBREG)\n\n# A tibble: 49 × 2\n   nom                 SUBREG         \n   &lt;chr&gt;               &lt;chr&gt;          \n 1 Angola              Middle Africa  \n 2 Burundi             Eastern Africa \n 3 Bénin               Western Africa \n 4 Burkina Faso        Western Africa \n 5 Botswana            Southern Africa\n 6 Rep. Centrafricaine Middle Africa  \n 7 Côte d'Ivoire       Western Africa \n 8 Cameroun            Middle Africa  \n 9 Congo, Rép. dém. du Middle Africa  \n10 Congo               Middle Africa  \n# ℹ 39 more rows\n\n\n\n\n3. Quelles sont les variables de la base de données dont le nom commence par la lettre “P”\n\n# Select ion de colonnes par nom : sélectionner les variables dont le nom commencent par \"P\" \nDevAfrica2018 %&gt;%\n  select(starts_with(\"P\"))\n\n# A tibble: 49 × 2\n     POP PIB               \n   &lt;dbl&gt; &lt;chr&gt;             \n 1 31.3  6793.7084905000002\n 2 11.4  756.59407529999999\n 3 11.6  3224.0433155000001\n 4 20.0  2160.5894579999999\n 5  2.28 17700.315175      \n 6  4.71 938.98882209999999\n 7 25.4  5133.5904630000005\n 8 25.5  3628.1176970000001\n 9 85.4  1091.9212769999999\n10  5.31 3356.2418290000001\n# ℹ 39 more rows\n\n\n\n\n4. Quelles sont les variables de la base de données dont le nom contient la lettre “P”\n\n# sélectionner les variables dont le nom contient la lettre \"P\" \nDevAfrica2018 %&gt;%\n  select(contains(\"P\"))\n\n# A tibble: 49 × 5\n     POP PIB                EMPAGR EMPSER ESPVIE\n   &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 31.3  6793.7084905000002   50.4  41.4    61.0\n 2 11.4  756.59407529999999   92.0   6.50   61.4\n 3 11.6  3224.0433155000001   38.9  42.1    61.6\n 4 20.0  2160.5894579999999   25.6  40.9    61.4\n 5  2.28 17700.315175         20.9  61.0    69.4\n 6  4.71 938.98882209999999   77.4  17.2    53.0\n 7 25.4  5133.5904630000005   40.5  46.5    57.6\n 8 25.5  3628.1176970000001   43.8  41.4    59.1\n 9 85.4  1091.9212769999999   65.6  24.7    60.5\n10  5.31 3356.2418290000001   34.4  43.7    64.4\n# ℹ 39 more rows\n\n\n\n\n5. Renommer la variable “PIB” en “ProduitInterieurBrut”\n\n# Renommer la variable \"PIB\"  par \"ProduitInterieurBrut\"\nDevAfrica2018 %&gt;%\n  rename(ProduitInterieurBrut = PIB)\n\n# A tibble: 49 × 26\n   iso3  name        nom     POP ProduitInterieurBrut IDH   ADOFEC CO2HAB EMPAGR\n   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;                &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 AGO   Angola      Ango… 31.3  6793.7084905000002   0.58…  153.  1.12     50.4\n 2 BDI   Burundi     Buru… 11.4  756.59407529999999   0.432   56.2 0.0467   92.0\n 3 BEN   Benin       Bénin 11.6  3224.0433155000001   0.54…   87.4 0.622    38.9\n 4 BFA   Burkina Fa… Burk… 20.0  2160.5894579999999   0.44…  106.  0.197    25.6\n 5 BWA   Botswana    Bots…  2.28 17700.315175         0.73…   46.3 2.96     20.9\n 6 CAF   Central Af… Rep.…  4.71 938.98882209999999   0.39…  130.  0.0651   77.4\n 7 CIV   Côte d'Ivo… Côte… 25.4  5133.5904630000005   0.53…  118.  0.335    40.5\n 8 CMR   Cameroon    Came… 25.5  3628.1176970000001   0.56…  108.  0.323    43.8\n 9 COD   Dem. Rep. … Cong… 85.4  1091.9212769999999   0.47…  125.  0.0242   65.6\n10 COG   Congo       Congo  5.31 3356.2418290000001   0.57…  113.  0.616    34.4\n# ℹ 39 more rows\n# ℹ 17 more variables: EMPSER &lt;dbl&gt;, INTERN &lt;dbl&gt;, ESPVIE &lt;dbl&gt;, AGEMED &lt;dbl&gt;,\n#   TELMOB &lt;dbl&gt;, MORINF &lt;dbl&gt;, TXMIGR &lt;dbl&gt;, DVIEUX &lt;dbl&gt;, TUBERC &lt;dbl&gt;,\n#   URBANI &lt;dbl&gt;, DJEUNE &lt;dbl&gt;, SUBREG &lt;chr&gt;, LOCKED &lt;dbl&gt;, COLFRA &lt;dbl&gt;,\n#   COLGBR &lt;dbl&gt;, LANGFR &lt;dbl&gt;, LANGEN &lt;dbl&gt;\n\n\n\n\n6. Calculer le taux de dépendance jeune par sous-région\n\n# Proportion (Pourcentage) de jeunes par sous région\nDevAfrica2018 %&gt;%\n  group_by(SUBREG) %&gt;%\n  summarise(depJeune = mean(DJEUNE))\n\n# A tibble: 5 × 2\n  SUBREG          depJeune\n  &lt;chr&gt;              &lt;dbl&gt;\n1 Eastern Africa      77.3\n2 Middle Africa       79.3\n3 Northern Africa     49.1\n4 Southern Africa     55.8\n5 Western Africa      79.6\n\n\n\n\n7. Ordonner les pays par sous région\n\n# Trier les pays par niveau de PIB croissant\nDevAfrica2018 %&gt;%\n  arrange(desc(SUBREG))\n\n# A tibble: 49 × 26\n   iso3  name  nom     POP PIB   IDH   ADOFEC CO2HAB EMPAGR EMPSER INTERN ESPVIE\n   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 BEN   Benin Bénin 11.6  3224… 0.54…   87.4  0.622   38.9   42.1  20      61.6\n 2 BFA   Burk… Burk… 20.0  2160… 0.44…  106.   0.197   25.6   40.9  16      61.4\n 3 CIV   Côte… Côte… 25.4  5133… 0.53…  118.   0.335   40.5   46.5  46.8    57.6\n 4 GHA   Ghana Ghana 30.1  5303… 0.60…   67.3  0.615   29.8   48.7  39      63.9\n 5 GIN   Guin… Guin… 12.6  2531… 0.47…  137.   0.256   62.0   31.9  18      61.4\n 6 GMB   Gamb… Gamb…  2.31 2175… 0.49…   79.8  0.268   27.4   56.9  19.8    61.9\n 7 GNB   Guin… Guin…  1.90 1969… 0.47…  105.   0.181   68.3   24.7   3.93   58.2\n 8 LBR   Libe… Libé…  4.88 1462… 0.47…  136.   0.323   43.4   46.3   7.98   63.9\n 9 MLI   Mali  Mali  19.4  2305… 0.43…  170.   0.187   62.8   29.6  13      59.1\n10 MRT   Maur… Maur…  4.46 5119… 0.54…   72.0  0.604   51.7   35.5  20.8    64.8\n# ℹ 39 more rows\n# ℹ 14 more variables: AGEMED &lt;dbl&gt;, TELMOB &lt;dbl&gt;, MORINF &lt;dbl&gt;, TXMIGR &lt;dbl&gt;,\n#   DVIEUX &lt;dbl&gt;, TUBERC &lt;dbl&gt;, URBANI &lt;dbl&gt;, DJEUNE &lt;dbl&gt;, SUBREG &lt;chr&gt;,\n#   LOCKED &lt;dbl&gt;, COLFRA &lt;dbl&gt;, COLGBR &lt;dbl&gt;, LANGFR &lt;dbl&gt;, LANGEN &lt;dbl&gt;"
  },
  {
    "objectID": "modules.html",
    "href": "modules.html",
    "title": "Modules thématiques",
    "section": "",
    "text": "Données\n\n\nImport, collecte , connexion BD…\n\n\n\n\n\n\n\n\n\n\n\n\n\nManipulation\n\n\nGestion & traitement de données\n\n\n\n\n\n\n\n\n\n\n\n\n\nStatistique\n\n\nStat. descriptive uni, bi et multivariée\n\n\n\n\n\n\n\n\n\n\n\n\n\nGraphique\n\n\nReprésentation graphique\n\n\n\n\n\n\n\n\n\n\n\n\n\nRéseau\n\n\nAnalyse de réseau et théorie des graphes\n\n\n\n\n\n\n\n\n\n\n\n\n\nGéomatique\n\n\nTraitement données vecteur et raster\n\n\n\n\n\n\n\n\n\n\n\n\n\nCartographie\n\n\nCartographie thématique\n\n\n\n\n\n\n\n\n\n\n\n\n\nReproductibilité\n\n\nBonnes pratiques pour la recherche reproductible\n\n\n\n\n\n\n\nAucun article correspondant"
  },
  {
    "objectID": "modules/WIP/connectBD.html",
    "href": "modules/WIP/connectBD.html",
    "title": "Connexion à une BD",
    "section": "",
    "text": "Work in progress"
  },
  {
    "objectID": "modules/geomatique/geomatic_vector.html",
    "href": "modules/geomatique/geomatic_vector.html",
    "title": "Géomatique avec R - vecteur",
    "section": "",
    "text": "Cette leçon vise à initier à la gestion, l’analyse et la représentation de données géographiques vectorielles avec le package sf. Les différentes manipulations de données vectorielles abordées sont :\n\nImport et export de données\nGestion de la projection cartographique\nAffichage graphique des données\nSélection par attribut\nSélection spatiale\nOpération sur les géométries"
  },
  {
    "objectID": "modules/geomatique/geomatic_vector.html#introduction",
    "href": "modules/geomatique/geomatic_vector.html#introduction",
    "title": "Géomatique avec R - vecteur",
    "section": "",
    "text": "Cette leçon vise à initier à la gestion, l’analyse et la représentation de données géographiques vectorielles avec le package sf. Les différentes manipulations de données vectorielles abordées sont :\n\nImport et export de données\nGestion de la projection cartographique\nAffichage graphique des données\nSélection par attribut\nSélection spatiale\nOpération sur les géométries"
  },
  {
    "objectID": "modules/geomatique/geomatic_vector.html#manuel",
    "href": "modules/geomatique/geomatic_vector.html#manuel",
    "title": "Géomatique avec R - vecteur",
    "section": " Manuel",
    "text": "Manuel\n\n\n\n\n\n Consulter en plein écran"
  },
  {
    "objectID": "modules/geomatique/geomatic_vector.html#exercice",
    "href": "modules/geomatique/geomatic_vector.html#exercice",
    "title": "Géomatique avec R - vecteur",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nEmprise des agglomérations urbaines (AFRICAPOLIS 2020)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importez le fichier africapolis_extract.shp\n\n\nUn peu d’aide ?\n# Pour importer des données géographiques \nlibrary(sf)\n... &lt;- st_read()\n\n\n5. Vérifiez quelle est la projection cartographique utilisée. Re-projetez la couche dans la projection UTM zone 31N (EPSG : 32631 ).\n\n\nUn peu d’aide ?\n# Pour connaitre le système de référence et de projection d'une couche\nst_crs(...)\n\n# Transformer le crs d'un objet sf\n... &lt;- st_transform(...)\n\n\n5. Affichez les géométries des agglomérations urbaines.\nAstuce : Vous pouvez utiliser la package mapview qui permet d’afficher la couche sur différents fonds de carte dynamiques. Cela permet de contrôler le niveau de précision de vos données.\n\n\nUn peu d’aide ?\n# Affichez les géométries d'un objet sf\nplot(st_geometry(...))\n\n# Afficher sur un fond de carte dynamique\nlibrary(mapview)\nmapview(...)\n\n\n6. Calculez les surfaces de chaque agglomération urbaine. Enregistrez ces valeurs dans une nouvelle colonne.\n\n\nUn peu d’aide ?\n# st_area() permet de calculer la surface des polygones d'un objet sf\n...$... &lt;- st_area(...)\n\n\n7. Calculez le nombre et la superficie totale des agglomérations urbaines, par pays.\n\n\nUn peu d’aide ?\nlibrary(dplyr)\n\n... &lt;- ... %&gt;% \n          group_by(...) %&gt;% \n          summarise(... = sum(...),\n                    ... = n())\n\n\n8. Créez une quatrième couche géographique (point) à partir des coordonnées de l’Institut Régional de Santé Publique, à Ouidah (Bénin) :\n\nLatitude = 6.349223507626634\nLongitude = 2.0879482065861783\nCRS = WGS84 (4326)\n\n\n\nUn peu d’aide ?\n# Création d'un data.frame avec les colonnes \"name\", \"lat\" et \"long\"\nIRSP &lt;- data.frame(name = \"...\", \n                   lat = ..., \n                   long = ...)\n\n\n# Création d'une couche géographique à partir de ces cordonnées\nIRSP_geo &lt;- st_as_sf(IRSP, \n                     coords = c(\"...\", \"...\"), \n                     crs = ...)\n\n\n9. Créez une zone tampon de 50km autour de l’Institut Régional de Santé Publique\n\n\nUn peu d’aide ?\n# Créer un zone tampon\n... &lt;- st_buffer(..., dist = ...)\n\n\n10. Détectez les agglomérations urbaines situées à moins de 50 km de l’IRSP\n\n\nUn peu d’aide ?\n# Quelles agglomérations intersectent la zone tampon ?\n...$... &lt;- st_intersects(..., ..., sparse = ...)\n\n\n11. Affichez correctement les différentes couches. Utilisez la couleur pour indiquer les agglomérations urbaines qui intersectent la zone tampon. Exemple :\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Utilisez l'argument \"add\" pour superposer les couches\n\nplot(st_geometry(...))\nplot(...[\"...\"], add = TRUE)\nplot(st_geometry(...), add = TRUE)\nplot(st_geometry(...), add = TRUE)\n\n\n12. Combien d’habitants résident dans les agglomérations urbaines qui intersectent la zone tampon ?\n\n\nCode\n# Sélectionnez les agglomérations qui intersectent la zone tampon\n... &lt;- ...[...$... == TRUE, ]\n\n# Calcul de la population totale de ces agglomérations\nsum(...$...)\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/network.html",
    "href": "modules/network.html",
    "title": "Réseau",
    "section": "",
    "text": "Analyse de réseau avec igraph\n\n\nPrésentation et fonctionnement du package igraph\n\n\n\n\n\n\n18 juil. 2023\n\n\nLaurent Beauguitte, Mégane Fernandez, Hugues pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/reproductibilite/programmation_lettree.html",
    "href": "modules/reproductibilite/programmation_lettree.html",
    "title": "Programmation lettrée et notebook",
    "section": "",
    "text": "Présentation du paradigme de programmation lettrée et du format de publication notebook, qui offre de nombreuses fonctionnalités pour de nombreux usages.\n\n\n→ Consulter en plein écran\n→ Accéder au code source"
  },
  {
    "objectID": "modules/reproductibilite/programmation_lettree.html#introduction",
    "href": "modules/reproductibilite/programmation_lettree.html#introduction",
    "title": "Programmation lettrée et notebook",
    "section": "",
    "text": "Présentation du paradigme de programmation lettrée et du format de publication notebook, qui offre de nombreuses fonctionnalités pour de nombreux usages.\n\n\n→ Consulter en plein écran\n→ Accéder au code source"
  },
  {
    "objectID": "modules/reproductibilite/programmation_lettree.html#le-rmarkdown",
    "href": "modules/reproductibilite/programmation_lettree.html#le-rmarkdown",
    "title": "Programmation lettrée et notebook",
    "section": "Le Rmarkdown",
    "text": "Le Rmarkdown\n\n\n→ Consulter en plein écran\n→ Accéder au code source"
  },
  {
    "objectID": "modules/reproductibilite/programmation_lettree.html#exercice",
    "href": "modules/reproductibilite/programmation_lettree.html#exercice",
    "title": "Programmation lettrée et notebook",
    "section": " Exercice",
    "text": "Exercice"
  },
  {
    "objectID": "modules/import/import.html",
    "href": "modules/import/import.html",
    "title": "Import et export de données",
    "section": "",
    "text": "De nombreuses de fonctions permettent d’importer et d’exporter des données de différents formats."
  },
  {
    "objectID": "modules/import/import.html#tableau-de-données",
    "href": "modules/import/import.html#tableau-de-données",
    "title": "Import et export de données",
    "section": "Tableau de données",
    "text": "Tableau de données\n\nFichier texte simple\nUn fichier texte simple (ou fichier texte brut) est un fichier dont le contenu représente uniquement une suite de caractères. Il peut s’ouvrir avec n’importe quel éditeur de texte et utilise nécessairement une forme particulière de codage des caractères.\nPlusieurs fonctions primitives permettent d’importer et d’exporter des fichiers texte simples, comme les fichiers csv, txt , tsv…\n\nImport\n\nread.delim() : fichiers délimités par un symbole quelconque et “.” en séparateur décimal\nread.delim2() : fichiers délimités par un symbole quelconque et “,” en séparateur décimal\nread.table() : pour des fichiers texte délimités par des espaces\n\nread.csv() : pour des fichiers texte délimités par des virgules (format csv)\nread.csv2() : pour des fichiers texte délimités par des points-virgules (format csv français)\n\nPour que l’import de données s’effectue correctement, il est parfois nécessaire de renseigner plusieurs arguments, comme par exemple :\nheader = valeur logique qui indique si la première ligne contient les noms des variables. sep = indique le caractère utilisé comme séparateur de champ (ex : “;”) encoding = Chaîne de caractère qui précise l’encodage utilisé pour le fichier (ex : “UTF-8”).\n\n\n\n\n\n\nImportant\n\n\n\nN’oubliez pas d’assigner le résultat dans un objet pour garder en mémoire vos données importées.\n\n\n\n# Exemple d'utilisation de read.table()\nmon_tableau  &lt;- read.table(file = \"../data/DEV_AFRICA_2018/afrika_don_meta.csv\", \n                           header = TRUE,\n                           sep= \";\",\n                           encoding = \"UTF-8\")\n\n\n# Le tableau importé est stocké dans un objet data.frame\nclass(mon_tableau)\n\n[1] \"data.frame\"\n\n\n\n\nExport\nDes fonctions primitives permettent également d’exporter votre tableau de données vers différents format texte.\n\nwrite.table() : pour tous les types de formats texte simple (séparateur à renseigner)\nwrite.csv() : pour exporter en csv (séparateur virgule)\nwrite.csv2() : pour exporter en csv (séparateur points-virgules)\n\n\n\nVoir l’exemple\n# Exemple write.table()\nwrite.table(x = mon_tableau, \n            file = \"../data/tableau.txt\", \n            sep = \"\\t\", col.names = TRUE, \n            fileEncoding = \"UTF-8\")\n              \n# Exemple write.csv()\nwrite.csv(x = mon_tableau, file = \"../data/tableau.csv\")\n\n\n\n\n\n\n\nFichier Excel\nIl est parfois nécessaire d’importer des tableaux de données stockées dans un format propriétaire, comme par exemple Excel (xls, xlsx) ou SAS. Plusieurs packages vous permettent d’importer ce genre de format, et même d’exporter vos données dans ce type de format.\n\nImport\nVous pouvez par exemple importer un fichier Excel avec le package readxl.\n\ninstall.packages(\"readxl\")\n\n\n\n\n\n\n\nImportant\n\n\n\nLe packages readxl fait partie de l’écosystème tidyverse (cf. module x). Pour cette raison, le tableau importé est mis en mémoire dans un objet tibble et non dataframe. Il s’agit de deux objets très semblables mais pas identiques. Pour convertir un tibble en dataframe, vous pouvez utiliser la fonction as.data.frame().\n\n\n\nlibrary(readxl)\nmon_tableau &lt;- read_excel(path = \"../data/DEV_AFRICA_2018/afrika_don.xls\", \n                          sheet = \"afrika_meta\", \n                          skip = 0,\n                          col_names = TRUE)\n\n# Le tableau importé est stocké dans un objet data.frame\nclass(mon_tableau)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\n\nExport\nPour exporter un dataframe (ou tibble) dans un fichier au format Excel, vous pouvez utiliser le package openxlsx et sa fonction write.xlsx().\n\ninstall.packages(\"openxlsx\")\n\n\n\n\n\n\n\nImportant\n\n\n\nLe packages openxlsx permet uniquement de lire et écrire les fichiers Excel comportant l’extension .xlsx.\n\n\n\n\nVoir l’exemple\nlibrary(openxlsx)\nwrite.xlsx(x = mon_tableau, file = \"../data/DEV_AFRICA_2018/afrika_don.xlsx\")\n\n\n\n\n\n\n\nSAS, SPSS & Stata\nLe package haven permet de gérer des fichiers propriétaires de différents formats comme SAS, SPSS, Stata, dbf…\n\ninstall.packages(\"haven\")\n\n\n\n\n\n\n\nImportant\n\n\n\nTout comme readxl, ce package fait partie de l’écosystème tidyverse (cf. module x). Le tableau importé est mis en mémoire dans un objet tibble et non dataframe. Vous pouvez utiliser la fonction as.data.frame() pour le convertir.\n\n\n\nFichier SAS\n\n\nVoir l’exemple\nlibrary(haven)\n\n# Import\nmon_tableau  &lt;- read_sas(data_file = \"../data/data_sas.sas7bdat\")\n\n# Export\nwrite_sas(data = mon_tableau, path = \"../data/mon_tableau_sas.sas7bdat\")\n\n\n\n\nFichier SPSS\n\n\nVoir l’exemple\nlibrary(haven)\n\n# Import\nmon_tableau  &lt;- read_sav(file =  \"../data/data_spss.sav\")\n\n# Export\nwrite_sav(data = mon_tableau, path =  \"../data/mon_tableau_spss.sav\")\n\n\n\n\nFichier Stata\n\n\nVoir l’exemple\nlibrary(haven)\n\n# Import\nmon_tableau  &lt;- read_stata(file =  \"../data/data_stata.dta\")\n\n# Export\nwrite_dta(data = mon_tableau, path =  \"../data/mon_tableau_stata.dta\")"
  },
  {
    "objectID": "modules/import/import.html#couche-géographique",
    "href": "modules/import/import.html#couche-géographique",
    "title": "Import et export de données",
    "section": "Couche géographique",
    "text": "Couche géographique\n\nVecteur\nLe package sf permet de lire les différents formats de couche géographique vectorielle (ESRI Shapefile, GeoJSON, Keyhole Markup Language, GeoPackage…). Pour cela, ce package interface avec la librairie système GDAL. Les SIG fonctionnent de la même façon !\n\ninstall.packages(\"sf\")\n\n\n\n\n\n\n\nNote\n\n\n\nL’installation du package sf demande un prérequis. La librairie système GDAL doit être installée sur votre machine. Il est parfois nécessaire de la faire soi-même sur certains système d’exploitation comme GNU/Linux.\n\n\n\nImport\n\nlibrary(sf)\nmap_africa &lt;- st_read(\"../data/GADM_AFRICA_2020/afrika_map.shp\",  quiet = TRUE)\n\nclass(map_africa)\n\n[1] \"sf\"         \"data.frame\"\n\n\n\n\n\n\n\n\nImportant\n\n\n\nUne couche géographique importée via la fonction st_read() du package sf est mise en mémoire dans un objet sf (simple feature). Il s’agit en quelque sorte d’un dataframe ou chaque individu est associé à une géométrie.\n\n\n\n\nExport\nLa fonction st_write() permet d’enregistrer un objet sf sur sa machine, dans le format que l’on souhaite.\n\n\nVoir les exemples\nlibrary(sf)\n\n# Enregistrement en format ESRI Shapefile\nst_write(obj = map_africa, \n         dsn = \"../data/map_africa.shp\", \n         layer_options = \"ENCODING=UTF-8\")\n\n\n# Enregistrement en format GeoPackage\nst_write(obj = map_africa, \n         dsn = \"../data/map_africa.gpkg\", \n         layer = \"pays\")\n\n\n\n\n\n\n\nRaster\nLe package terra permet aussi de lire et d’écrire des données géographiques vectorielles (comme sf) mais sa valeur ajoutée se situe au niveau de la manipulation de données raster.\n\ninstall.packages(\"terra\")\n\n\nImport\nPour importer des données Raster, vous pouvez utiliser la fonction rast().\n\n\n\n\n\n\nImportant\n\n\n\nUn Raster importé via la fonction rast() du package terra est mis en mémoire dans un objet SpatRaster.\n\n\n\nlibrary(terra)\nElevation_Benin &lt;- rast(\"../data/elevation.tif\") \n\nElevation_Benin\n\nclass       : SpatRaster \ndimensions  : 742, 369, 1  (nrow, ncol, nlyr)\nresolution  : 0.008339098, 0.008333169  (x, y)\nextent      : 0.774574, 3.851701, 6.23514, 12.41835  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elevation.tif \nname        : elevation \n\n\n\n\nExport\nLa fonction writeRaster() permet d’enregistrer un objet SpatRaster sur sa machine, dans le format que l’on souhaite.\n\n\nVoir l’exemple\nlibrary(terra)\nwriteRaster(x = Elevation_Benin, filename = \"../data/Benin_Elevation.tif\")"
  },
  {
    "objectID": "modules/import/import.html#image",
    "href": "modules/import/import.html#image",
    "title": "Import et export de données",
    "section": "Image",
    "text": "Image\n\nImport\nPour importer des images, le package pnget jpeg, pré-installés avec le language R vous permet d’importer des images.\n\nPNG\n\n\nVoir l’exemple\nlibrary(png)\nmon_image_png &lt;- readPNG(\"../img/map.png\")\n\n\n\n\nJPEG\n\n\nVoir l’exemple\nlibrary(jpeg)\nmon_image_jpg &lt;- readJPEG(\"../img/wip.jpg\")\n\n\n\n\n\nExport\nIl est également possible d’exporter les sorties graphiques en format image avec les fonctions primitives suivantes :\n\nbmp()\njpeg()\npng()\ntiff()\n\nCes fonctions doivent être utilisées avec la fonction dev.off(). Exemple :\n\n\nVoir l’exemple\n# Ouverture de la création de l'image\npng(filename = \"../img/mon_image.jpg\")\n\n# Création de la représentation graphique souhaitée\nplot(1:10)\n\n# Fermeture (enregistrement) de l'image png\ndev.off()\n\n\n\n\n\n\n\n\nImportant\n\n\n\nLa fonction dev.off() permet de clôturer la représentation graphique et d’enregistrer l’image. Si aucun dev.off() n’est exécuté à la suite de ces fonctions d’export, votre fenêtre graphique restera figée, et inutilisable.\n\n\nIl est également possible d’exporter vos représentations graphiques dans un format vectoriel, qui permet leur retouche avec des logiciel de DAO (Inkscape, Adobe Illustrator…). Les fonction pour réaliser cela sont :\n\npdf()\nsvg()\n\nL’utilisation de ces fonctions primitives est similaire à l’export d’images matricielles. Exemple :\n\n\nVoir l’exemple\n# Ouverture de la création de l'image\npdf(file = \"../img/mon_image.pdf\")\n\n# Création de la représentation graphique souhaitée\nplot(1:10)\n\n# Fermeture (enregistrement) du pdf\ndev.off()"
  },
  {
    "objectID": "modules/import/import.html#exercice",
    "href": "modules/import/import.html#exercice",
    "title": "Import et export de données",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\nFond de carte Afrique (GADM 2020)\n Download\n\n\nRaster délévation du Bénin\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Créez un script R à la racine de votre projet Rstudio\nFile/New File/R script\n5. Importer les fichiers suivants en utilisant les fonctions adéquates :\n\ndata/DEV_AFRIA_2018/afrika_don.csv\n\ndata/DEV_AFRICA_2018/afrika_don.xls (1er onglet)\n\ndata/GADM_AFRICA_2020/afrika_map.shp\n\ndata/elevation.tif\n\n\n\nUn peu d’aide ?\n# Pour importer un fichier csv (afrika_don.csv)\nread.csv()\nread.csv2()\n\n# Pour importer un fichier Excel (afrika_don.xls)\nlibrary(readxl)\nread_excel()\n\n# Pour importer un fichier ESRI Shapefile (afrika_map.shp)\nlibrary(sf)\nst_read()\n\n# Pour importer un fichier TIF (elevation.tif)\nlibrary(terra)\nrast()\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/manipulation.html",
    "href": "modules/manipulation.html",
    "title": "Manipulation",
    "section": "",
    "text": "Manipulation de tableau de données\n\n\nLes fonctions primitives pour manipuler un tableau de données\n\n\n\n\n\n\n18 juil. 2023\n\n\nHugues pecout, Justin Dansou\n\n\n\n\n\n\n\n\nL’ecosystème tidyverse\n\n\nManipulation de données avec les packages du tidyverse\n\n\n\n\n\n\n18 juil. 2023\n\n\nJustin Dansou, Hugues Pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/statistique.html",
    "href": "modules/statistique.html",
    "title": "Statistique",
    "section": "",
    "text": "Statistique descriptive univariée\n\n\n\n\n\n\n\n \n\n\n\n\n\n\nStatistique descriptive bivariée\n\n\n\n\n\n\n\n \n\n\n\n\n\n\nStatistique descriptive multivariée\n\n\n\n\n\n\n\n \n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/manipulation/tidyverse.html",
    "href": "modules/manipulation/tidyverse.html",
    "title": "L’ecosystème tidyverse",
    "section": "",
    "text": "L’objectif général de ce module est d’initier les participants à la famille de packages tidyverse.\nPlus spécifiquement, à la fin de ce module, les participants devraient être capables de:\n\ninstaller et de charger la librairie tidyverse,\ndécrire les principales librairies de la famille tidyverse,\ndécrire les principales fonctions de la librairie de tidyverse dédiée à la manipulation de données (dplyr),\nmanipuler les principales fonctions de dplyr dédiées à la manipulation de données."
  },
  {
    "objectID": "modules/manipulation/tidyverse.html#installation-et-chargement-du-package-tidyverse",
    "href": "modules/manipulation/tidyverse.html#installation-et-chargement-du-package-tidyverse",
    "title": "L’ecosystème tidyverse",
    "section": "Installation et chargement du package tidyverse",
    "text": "Installation et chargement du package tidyverse\nLes lignes de codes suivantes permettent de faire l’installation et le chargement de tidyverse.\n\n# Installation du package \ninstall.packages(\"tidyverse\")\n\n# Chargement du package. \nlibrary(tidyverse)\n\nLes principales librairies (écosystème tidyverse) automatiquement installées avec tidyverse sont les suivantes :\n\nreadr : import de données,\ntibble : exploitation des tableaux de données,\nstringr : manipulation des chaînes de caractères,\ndplyr : manipulation des données,\ntidyr : remise en forme des données,\nggplot2 : visualisation / représentation graphique des données,\nforcats : variables qualitatives,\npurrr : programmation.\n\nLa liste complèle des extensions de tidyverse se trouve sur le site officiel du tidyverse.\nNote: Ceci étant, au lieu d’installer la collection de packages (tidyverse), il est aussi possible d’installer directement l’extension souhaité. Par exemple, si l’on souhaite utiliser des fonctions du package dplyr, vous pouvez uniquement installer ce package de la manière suivante :\n\n# Installation du package dplyr \ninstall.packages(\"dplyr\")\n\nPuis charger la librairie pour pouvoir utiliser ses fonctions :\n\n# Chargement de la librairie\nlibrary(dplyr)"
  },
  {
    "objectID": "modules/manipulation/tidyverse.html#la-fonction-group_by",
    "href": "modules/manipulation/tidyverse.html#la-fonction-group_by",
    "title": "L’ecosystème tidyverse",
    "section": "La fonction group_by()",
    "text": "La fonction group_by()\nLa clause group_by() est aussi l’une des fonctions d’usage courant et utile de dplyr. Elle permet de définir des groupes de lignes à partir des valeurs d’une ou plusieurs colonnes. Par exemple, on peut regroupe la population d’un pays par un certain niveau de découpage administratif. L’usage courant est d’effectuer des opérations sur les groupes constitués par la fonction group_by() en faisant appel à d’autres fonctions, par exemple slice(), mutate() ou summarise(). L’argument n() de summarise() appliqué à un group_by() permet d’obtenir les effectifs par groupe.\nIl est aussi possible de grouper selon plusieurs colonnes / variables en les indiquant dans la clause du group_by().\nNote: la clause group_by() marche avec la plus part des fonctions à l’exception de arrange() qui s’applique par défaut à l’ensemble du tableau de données. Pour avoir un tri par groupe, un argument suplémentaire .by_group = TRUE doit être utilisé.\n\n# Population moyenne par sous région\nDevAfrica2018 %&gt;%\n     group_by(SUBREG) %&gt;%\n     summarise(popMoyen = mean(POP))\n\n# A tibble: 5 × 2\n  SUBREG          popMoyen\n  &lt;chr&gt;              &lt;dbl&gt;\n1 Eastern Africa      28.3\n2 Middle Africa       21.4\n3 Northern Africa     39.8\n4 Southern Africa     13.2\n5 Western Africa      25.7"
  },
  {
    "objectID": "modules/manipulation/tidyverse.html#exercice",
    "href": "modules/manipulation/tidyverse.html#exercice",
    "title": "L’ecosystème tidyverse",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importer la base de données DEV_AFRICA_2018 sous le nom DevAfrica2018.\n\n\nUn peu d’aide ?\n# Import des métadonnées\n...  &lt;- read.table(file = \"...\", \n                   header = ...,\n                   sep= \"...\",\n                   encoding = \"...\")\n\n\nlibrary(...)\nDevAfrica2018 &lt;- read_excel(\"...\")\n\n\n5. Sélectionner la liste des pays et leur région d’appartenance.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n    select(..., ...)\n\n\n6. Quelles sont les variables de la base de données dont le nom commence par la lettre “P”.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n    select(...(\"...\"))\n\n\n7. Quelles sont les variables de la base de données dont le nom contient la lettre “P”.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n   select(...(\"...\"))\n\n\n8. Renommer la variable “PIB” en “ProduitInterieurBrut”.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n   rename(... = ...)\n\n\n9. Calculer le taux de dépendance jeune par sous-région.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n    group_by(...) %&gt;%\n    summarise(... = mean(...))\n\n\n10. Trier les pays par sous-région.\n\n\nUn peu d’aide ?\nDevAfrica2018 %&gt;%\n   arrange(...(...))\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/graphique/ggplot2.html",
    "href": "modules/graphique/ggplot2.html",
    "title": "Le package ggplot2",
    "section": "",
    "text": "L’objectif général de ce module est d’initier les participants à l’extension de visualisation de données avec ggplot2, package de la famille de tidyverse.\nPlus spécifiquement, à la fin de ce module, les participants devraient être capables de:\n\nd’installer et de charger la librairie ggplot2,\ndécrire les principales fonctions de la librairie de tidyverse dédiée à la visualisation de données (ggplot2),\nmanipuler les principales fonctions graphiques de ggplot2 dédiées à la visualisation de données."
  },
  {
    "objectID": "modules/graphique/ggplot2.html#installation-et-chargement-du-package-ggplot2",
    "href": "modules/graphique/ggplot2.html#installation-et-chargement-du-package-ggplot2",
    "title": "Le package ggplot2",
    "section": "Installation et chargement du package ggplot2",
    "text": "Installation et chargement du package ggplot2\nLes lignes de codes suivantes permettent de faire l’installation et le chargement de tidyverse.\n\n# Installation du package \ninstall.packages(\"tidyverse\")\n\n# Chargement de la librairie \nlibrary(ggplot2)\n\nLa liste complète des extensions de tidyverse se trouve sur le site officiel du tidyverse ici.\nNote: Ceci étant, au lieu d’installer la collection de packages (tidyverse), il est aussi possible d’installer directement ggplot2. Exemple :\n\n# Installation du package ggplot2\ninstall.packages(\"ggplot2\")\n\nPuis charger la librairie pour pouvoir utiliser ses fonctions :\n\n# Chargement de la librairie\nlibrary(ggplot2)"
  },
  {
    "objectID": "modules/graphique/ggplot2.html#fonctions-graphiques-usuelles-de-viusalisation-des-données-avec-ggplot2",
    "href": "modules/graphique/ggplot2.html#fonctions-graphiques-usuelles-de-viusalisation-des-données-avec-ggplot2",
    "title": "Le package ggplot2",
    "section": "Fonctions graphiques usuelles de viusalisation des données avec ggplot2",
    "text": "Fonctions graphiques usuelles de viusalisation des données avec ggplot2\n\nPrincipe de base des synthaxes graphiques de ggplot2\nLa syntaxe de ggplot2 est spécifique et diffère totalement de celle des graphiques de base de R. Elle est de type “Grammar of Graphics” et est généralement structurée comme un ensemble indépendant de commandes. Ce module n’est qu’une introduction à quelques fonctions usuelles d’application de ggplot2. Pour plus d’information, le lecteur est invité à consulter les nombreuses ressources disponibles (en général gratuitement) en ligne sur l’extension.\nLe principe de base de la représentation graphique de ggplot2 consiste à segmenter les instructions. En général, il nécessite de spécifier :\n\nle jeux de données contenant l’information à visualiser,\nl’information (variable ou ensemble de variables) que l’on souhaite visualiser. Elle est généralement indiquée au niveau de la fonction aes(),\nle type de visualisation (représentation graphique) souhaité: camembert, histogramme, etc. Il est aussi spécifié par une fonction.\n\n\n\nGrammaire du ggplot\nLa grammaire de la syntaxe de ggplot2 se présente ainsi qui suit:\n\nData (ggplot): pour spécifier le jeu de données contenant l’information à visualiser. Le jeu de données est généralement un data frame, un tibble ou tableau de données renseigné dans la fonction ggplot(),\nAesthetics (aes): pour spécifier l’information / variable.s à représenter/visualiser. La ou les variables à visualiser est/sont indiquées dans la fonction aes(). Elle prend en argument d’autres paramètre de contrôler avancé du rendu de la représentation graphique. Il s’agit de color, size, fill en général utilisé lorsqu’une couleur ou une taille est définie par une variable,\nGeometrics (geom_…) pour spécifier le type de représentation graphique souhaité (cf. plus bas pour la description des fonctions usuelles des types de représentation graphiques),\nStatistics (stat_…): pour spécifier les éventuelles transformations des données pour la représentation en vue,\nScales (scale_…): permet de contrôler le lien entre les données et les aesthetics (modification de couleurs, gestion des axes, etc.)\n\n\n\nGeometrics et aesthetics\nLe tableau ci-dessous décrit quelques types de représentation géométrique et les types d’informations requises.\n\nExemples de geom et aesthetics associés\n\n\n\n\n\n\n\n\n#\nGeom\nDescription\nAesthetics\n\n\n\n\n1\ngeom_point()\nNuage de points\nx, y, shape, fill\n\n\n2\ngeom_line()\nLigne (ordonnées selon x)\nx, y, linetype\n\n\n3\ngeom_abline()\nDroite\nslope, intercept\n\n\n4\ngeom_path()\nLigne (ordre original)\nx, y, lignetype\n\n\n5\ngeom_text()\nTexte\nx, y, label, hjust, vjust\n\n\n6\ngeom_rect()\nRectangle\nxmin, xmax, ymin, ymax, fill, linetype\n\n\n7\ngeom_polygon()\nPolygone\nx, y, fill, linetype\n\n\n8\ngeom_segment()\nSegment\nx, y, fill, linetype\n\n\n9\ngeom_bar()\nDiagramme en barres\nx, fill, linetype, weight\n\n\n10\ngeom_histogram()\nHistogramme\nx, fill, linetype, weight\n\n\n11\ngeom_boxplot()\nBoîte à moustaches\nx, y, fill, weight\n\n\n12\ngeom_density()\nDensité\nx, y, fill, linetype\n\n\n13\ngeom_contour()\nLine de contour\nx, y, fill, linetype\n\n\n14\ngeom_smooth()\nLissage\nx, y, fill, linetype\n\n\n\n\n\nStatistics\nLes données brutes provenant des tableaux de données ou data frames nécessitent souvent de transformations préalables avant la visualisation. Ainsi, les statistiques permettent de gérer les transformations ou calculs intermédiaires dans le processus de visualisation. Les fonctions assurant ces transformations intermédiaires sont en géneral renseignés dans l’argument stat des fonctions geom_… Par exemple pour représenter un histogramme (geom_histgram), la valeur par défaut permettant le calculer des principaux indicateurs est stat=“bin”:\n\ncount : nombre de points dans chaque classe,\ndensity : densité pour chaque class,\nncount :similaire à count mais ici la valeur maximale est équivalent 1.\nndensity : similaire à density mais la valeur maximale ici est de 1.\n\nLe tableau ci-dessous présente quelques statistics prise en charge dans ggplot.\n\nExemples de statistics\n\n\n#\nStat\nDescription\nParamètres\n\n\n\n\n1\nstat_identity()\nAucune transformation\n\n\n\n2\nstat_bin()\nComptage\nbineidth, origin\n\n\n3\nstat_density()\nDensité\nadjust, kernel\n\n\n4\nstat_smooth()\nLissage\nmethod, se\n\n\n5\nstat_boxplot()\nBoxplot\ncoef\n\n\n\n\n\nFaceting\nLe faceting permet de faire une représentation graphique selon les modalités d’une ou de plusieurs variable.s qualitative.s. Ainsi, on distingue les variantes facet_wrap() et facet_grid(). facet_wrap() prend en argument un paramètre de la forme vars(variable) ou variable est le nom de la variable de catégorisation des différents graphiques.\n\n\nScales\nLes scales permettent de modifier la manière dont un attribut graphique va être relié aux valeurs d’une variable.\n\n\nThèmes\nLes thèmes permettent de contrôler l’aperçu de touts les éléments du graphique qui ne sont pas reliés aux données: titre, grilles, fonds, etc.\nCertains thèmes prédéfinis existent. C’est le cas de theme_bw(), theme_minimal()\n\n\nQuelques exemples\n\n# Import de la base de données DEV_AFRICA_2018\nlibrary(readxl)\nDevAfrica2018 &lt;- read_excel(\"data/DEV_AFRICA_2018/afrika_don.xls\")\n\n# Chargement de la librairie ggplot2\nlibrary(ggplot2)\n\nReprésentation graphique (diagramme en barre) du nombre de pays (effectif de pays) par sous-région.\n\nggplot(DevAfrica2018) + \n  geom_bar(aes(x=SUBREG))\n\n\n\n\nReprésentation graphique (boite à moustache) de l’espérance à la naissance par sous-région.\n\nggplot(DevAfrica2018) + geom_boxplot(aes(x=SUBREG, y = ESPVIE))\n\n\n\n\nOn peut personnaliser le graphique avec différents arguments supplémentaires comme fill et color.\n\nggplot(DevAfrica2018) + \n  geom_boxplot(aes(x=SUBREG, y = ESPVIE),\n               fill= \"wheat\", color = \"tomato4\")\n\n\n\n\nUn autre argument utile, varwidth, permet de faire varier la largeur des boîtes en fonction des effectifs de la classe (donc, ici, en fonction du nombre de pays par sous-région) :\n\nggplot(DevAfrica2018) + \n  geom_boxplot(aes(x=SUBREG, y = ESPVIE),\n               fill= \"wheat\", color = \"tomato4\", varwidth = TRUE)\n\n\n\n\nSi on préfère avoir un graphique en barres horizontales, il suffit de passer la variable comme attribut y plutôt que x.\nPour modifier manuellement les différents éléments, les fonctions ggtitle, xlab et ylab permettent d’ajouter ou de modifier le titre du graphique, ainsi que les étiquettes des axes x et y.\n\nggplot(DevAfrica2018) + geom_bar(aes(y=SUBREG)) + \n  xlab(\"Nombre de pays\") +\n  ylab(\"Sous-région\") +\n  ggtitle(\"Joli graphique\")"
  },
  {
    "objectID": "modules/graphique/ggplot2.html#ressources",
    "href": "modules/graphique/ggplot2.html#ressources",
    "title": "Le package ggplot2",
    "section": "Ressources:",
    "text": "Ressources:\nLa documentation officielle de ggplot2\nThe R Graph Gallery"
  },
  {
    "objectID": "modules/graphique/ggplot2.html#linterface-graphique-du-package-esquisse",
    "href": "modules/graphique/ggplot2.html#linterface-graphique-du-package-esquisse",
    "title": "Le package ggplot2",
    "section": "L’interface graphique du package Esquisse",
    "text": "L’interface graphique du package Esquisse\n\n# Installation du package \ninstall.packages(\"esquisse\")\n\n\n\n\n\n\n\n\n\n\nConstruisez votre graphique ggplot en clic-bouton et glisser-déposer, puis récupérer le code source !"
  },
  {
    "objectID": "modules/graphique/ggplot2.html#exercice",
    "href": "modules/graphique/ggplot2.html#exercice",
    "title": "Le package ggplot2",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importez la base de données DEV_AFRICA_2018 sous le nom DevAfrica2018.\n\n\nUn peu d’aide ?\n# Import des métadonnées\n...  &lt;- read.table(file = \"...\", \n                   header = ...,\n                   sep= \"...\",\n                   encoding = \"...\")\n\n\nlibrary(...)\nDevAfrica2018 &lt;- read_excel(\"...\")\n\n\n5. Re-codez la variable « POP » en « Population » en trois catégories :\n\nMoins de 10 millions\n10 – 25 millions\n&gt; 25 millions\n\n\n\nUn peu d’aide ?\n...$... &lt;- cut(...$...,  \n              breaks = c(..., ..., ..., ...), \n              labels = c(\"...s\", \n              \"...\", \n              \"...\"), \n              right = ...)\n\n\n6. Faite une représentation graphique de l’effectif des pays par sous-région.\n\n\nUn peu d’aide ?\nlibrary(...)\n\nggplot(...) + \n   geom_histogram(aes(x = ...), stat = '...')\n\n\n7. Ajoutez les étiquettes (titre du graphique, étiquette axe abscisse, axe des ordonnées) au graphique.\n\n\nUn peu d’aide ?\nggplot(...) + \n  geom_histogram(aes(x=...), stat = '...')+\n  ggtitle(\"...\")+\n  xlab(\"...\") + \n  ylab(\"...\")\n\n\n8. Faite la boite à moustache de l’espérance de vie à la naissance par sous-région.\n\n\nUn peu d’aide ?\nggplot(...) + \n  geom_boxplot(aes(x=..., y=...))\n\n\n9. Ajout des étiquettes (titre du graphique, étiquette axe abscisse, axe des ordonnées) au graphique.\n\n\nUn peu d’aide ?\nggplot(...) + \n  geom_boxplot(aes(x=..., y=...), varwidth = ...)\n\n\nNote : faites les largeurs des boites à moustaches proportionnelles à l’effectif de pays par sous-région\n\n\nUn peu d’aide ?\nGraphique1 &lt;- ggplot(...) + \n  geom_boxplot(aes(x=..., y=...), varwidth = ...) + \n  xlab(\"...\") + \n  ylab(\"...\") + \n  ggtitle(\"...\")\n\n\n# Sauvegarde du graphique\nggsave(\"...\", dpi = 3000)\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/cartographie/map_sf.html",
    "href": "modules/cartographie/map_sf.html",
    "title": "Cartographie avec mapsf",
    "section": "",
    "text": "Cette leçon vise à initier à l’utilisation du package mapsf pour la construction et la mise en page de carte thématique et statistique de différents types :\n\nCarte de symboles proportionnels\nCarte choroplèthe\nCarte de typologie\nCarte de stocks et de ratios\nCarte de stocks et de catégories\n\nLa construction de cartogramme (ou anamorphose) à l’aide du package cartogram est également abordé en fin de leçon."
  },
  {
    "objectID": "modules/cartographie/map_sf.html#introduction",
    "href": "modules/cartographie/map_sf.html#introduction",
    "title": "Cartographie avec mapsf",
    "section": "",
    "text": "Cette leçon vise à initier à l’utilisation du package mapsf pour la construction et la mise en page de carte thématique et statistique de différents types :\n\nCarte de symboles proportionnels\nCarte choroplèthe\nCarte de typologie\nCarte de stocks et de ratios\nCarte de stocks et de catégories\n\nLa construction de cartogramme (ou anamorphose) à l’aide du package cartogram est également abordé en fin de leçon."
  },
  {
    "objectID": "modules/cartographie/map_sf.html#manuel",
    "href": "modules/cartographie/map_sf.html#manuel",
    "title": "Cartographie avec mapsf",
    "section": " Manuel",
    "text": "Manuel\n\n\n\n\n\n Consulter en plein écran"
  },
  {
    "objectID": "modules/cartographie/map_sf.html#exercice",
    "href": "modules/cartographie/map_sf.html#exercice",
    "title": "Cartographie avec mapsf",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\nFond de carte Afrique (GADM 2020)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importez les fichiers suivants en utilisant les fonctions adéquates :\n\ndata/DEV_AFRIA_2018/afrika_don.csv\n\ndata/GADM_AFRICA_2020/afrika_map.shp\n\n\n\n\nUn peu d’aide ?\n# Pour importer le fichier csv (afrika_don.csv)\nread.csv()\nread.csv2()\n\n# Pour importer le fichier ESRI Shapefile (afrika_map.shp)\nlibrary(sf)\nst_read()\n\n\n5. Faîte une jointure entre le fond de carte des pays et le tableau de données statistiques\n\n\nUn peu d’aide ?\n# Jointure en R-base\nmerge() \n\n# Ou \njointure avec le package dplyr\nleft_join()\n\n\n6. Construisez une carte thématique représentant la variable POP (nombre d’habitants)\n\n\nUn peu d’aide ?\n# Créer une carte en symboles proportionnels\nmf_map()\n# OU\nmf_prop()\n\n\n7. Construisez une thématique représentant la variable INTERN (part des utilisateurs d’internet dans la population totale)\n\n\nUn peu d’aide ?\n# Créer une carte choroplèthe\nmf_map()\n# OU\nmf_choro()\n\n\n8. Exportez ces deux cartes en format svg et png, à l’aide d’une fonction du package mapsf\n\n\nUn peu d’aide ?\nmf_export()\ndev.off()\n\n\n9. Construisez une carte thématique représentant la variable POP ET la variable INTERN\n\n\nUn peu d’aide ?\n# Créer une carte de stocks et de ratios\nmf_map()\n# OU\nmf_prop_choro()\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/geomatique.html",
    "href": "modules/geomatique.html",
    "title": "Géomatique",
    "section": "",
    "text": "Géomatique avec R - vecteur\n\n\nLe package sf pour manipuler les données géographiques vectorielles\n\n\n\n\n\n\n10 juil. 2023\n\n\nTimothée Giraud, Hugues pecout\n\n\n\n\n\n\n\n\nGéomatique avec R - raster\n\n\nLe package terra pour manipuler les données géographiques RASTER\n\n\n\n\n\n\n10 juil. 2023\n\n\nHugues pecout, Timothée Giraud\n\n\n\n\n\n\n\n\nOpenStreetMap & R\n\n\nUtilisation du fond de carte, Géocodage, extraction de données et calcul d’itinéraire\n\n\n\n\n\n\n10 juil. 2023\n\n\nTimothée Giraud, Hugues pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/import.html",
    "href": "modules/import.html",
    "title": "Données",
    "section": "",
    "text": "Import et export de données\n\n\nLes différents types et formats de données pris en charge par R\n\n\n\n\n\n\n18 juil. 2023\n\n\nHugues pecout, Justin Dansou\n\n\n\n\n\n\n\n\nIntroduction au WebScraping\n\n\nWORK IN PROGRESS - Avril 2024\n\n\n\n\n\n\n18 juil. 2023\n\n\nAlexandre Cebeillac, Léa Christophe, Robin Cura, Hugues Pecout, Sébastien Rey-Coyrehourcq\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Données",
    "section": "",
    "text": "Note\n\n\n\nSeules les données mobilisées dans le cadre de l’école thématique Méthodes et outils de sciences territoriales organisée par la FR CIST (Bénin, mars 2023) sont présentées et mises à disposition sur cette page."
  },
  {
    "objectID": "data.html#i.-un-cepii-data",
    "href": "data.html#i.-un-cepii-data",
    "title": "Données",
    "section": "I. UN & CEPII data",
    "text": "I. UN & CEPII data\nIndicateurs nationaux produits par les Nations-Unis (Human Development Report 2020) et le centre français d’étude et de recherche en économie internationale, couvrant la majorité des pays d’Afrique (2020).\n\n Télécharger les données\n\n\n\nCe tableau de données comporte 26 variables décrivant 49 pays.\n\nDictionnaire des variables :\n\n\n\n\n\n\n\n\n\n\n\nAffichage de données :"
  },
  {
    "objectID": "data.html#ii.-gadm-data",
    "href": "data.html#ii.-gadm-data",
    "title": "Données",
    "section": "II. GADM data",
    "text": "II. GADM data\nCouche géographique des frontières nationales des pays d’Afrique issues de la base de données GAMD (2023). Cette couche géographique comporte peu d’attributs : code iso3, nom, sous-région d’appartenance.\n\n Télécharger les données\n\n\n\n\nAttributs de la couche géographique :\n\n\n\n\n\n\n\n\n\nAffichege de géométrie :"
  },
  {
    "objectID": "data.html#iii.-africapolis",
    "href": "data.html#iii.-africapolis",
    "title": "Données",
    "section": "III. Africapolis",
    "text": "III. Africapolis\nExtraction (Ghana, Bénin et Togo) de la base de données géographique AFRICAPOLIS (2023), sur l’emprise des agglomérations urbaines en Afrique.\n\n Télécharger les données\n\n\n\n\nAttributs de la couche géographique :\n\n\n\n\n\n\n\n\n\n\n\nAffichage de la couche géographique :"
  },
  {
    "objectID": "data.html#iii.-elevation-bénin",
    "href": "data.html#iii.-elevation-bénin",
    "title": "Données",
    "section": "III. Elevation Bénin",
    "text": "III. Elevation Bénin\nDonnées numériques d’élévation (raster en format TIF) pour le Bénin provenant de la base de données SRTM 90m Digital Elevation du CIAT. Database v4.1. Les données SRTM originales de l’USGS/NASA ont été fournies dans des cellules d’environ 90m x 90m.\n\n Télécharger les données\n\n\n\n\nAffichage du raster :\n\n\n\n\n\n\n\n\n\n\n\n\n\nCaractèristiques du Raster :\n\n\nclass       : SpatRaster \ndimensions  : 742, 369, 1  (nrow, ncol, nlyr)\nresolution  : 0.008339098, 0.008333169  (x, y)\nextent      : 0.774574, 3.851701, 6.23514, 12.41835  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : elevation.tif \nname        : elevation"
  },
  {
    "objectID": "modules/cartographie.html",
    "href": "modules/cartographie.html",
    "title": "Cartographie",
    "section": "",
    "text": "Cartographie avec mapsf\n\n\nPrésentation du package mapsf pour la cartographie thématique\n\n\n\n\n\n\n18 juil. 2023\n\n\nTimothée Giraud, Hugues pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/reproductibilite.html",
    "href": "modules/reproductibilite.html",
    "title": "Reproductibilité",
    "section": "",
    "text": "Le package miniCRAN\n\n\nCréer son CRAN personnel en local\n\n\n\n\n\n\n10 juil. 2023\n\n\nHugues Pecout\n\n\n\n\n\n\n\n\nProgrammation lettrée et notebook\n\n\nIntroduction et mise en pratique avec Rmarkdown\n\n\n\n\n\n\n10 juil. 2023\n\n\nHugues Pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/graphique/Rbase_graph.html",
    "href": "modules/graphique/Rbase_graph.html",
    "title": "Graphique R-base",
    "section": "",
    "text": "Le langage R met à disposition un ensemble de fonctions pour la représentation graphique via le package pré-installé graphics . Bien que l’on préférera des packages spécialisés et plus complets comme ggplot2 pour créer de jolis graphiques personnalisés, les fonctions R-base de représentation peuvent être très utiles en matière d’exploration de données."
  },
  {
    "objectID": "modules/graphique/Rbase_graph.html#principales-fonctions",
    "href": "modules/graphique/Rbase_graph.html#principales-fonctions",
    "title": "Graphique R-base",
    "section": "Principales fonctions",
    "text": "Principales fonctions\nLes fonctions graphiques peuvent être classées en trois catégories :\nI. Les fonctions permettant de créer différents types de graphiques :\n\nplot() : Fonction générique de représentation graphique\nmatplot() : Dispersions de toutes le variables d’un tableau (un graphique)\npairs() : Matrice de nuage de point pour l’ensemble des variables d’un tableau\nstripchart() : diagrammes de dispersion\ndotchart() : diagramme en points de Cleveland\nboxplot() : diagramme en boîte\nqqnorm() : diagramme quantile-quantile théorique normal\nqqplot() : diagramme quantile-quantile empirique\nbarplot() : diagramme à barres\npie() : diagramme en secteurs\nmosaicplot() : diagramme en mosaïque\nspineplot() : diagrammes en épine (entre l’histogramme et le mosaic plot)\nhist() : histogramme\ncurve() : Représentation d’une expression mathématique\netc….\n\nII. les fonctions permettant d’ajouter de l’information à un graphique existant :\n\nlegend() : légende\ntitle() : titre\ndensity() : courbe de densité à noyau\npoints() : point\nrug() : représentation stripchart le long de l’axe des x\nlines() : segments de droites reliant des points\nmatlines() : segments de droites reliant des points (utiliser avec matplot())\nabline() : droites traversant toute la zone graphique\ntext() : texte dans la zone graphique\nmtext() : texte dans la marge\netc…\n\nIII. Les fonctions utilisées pour fixer et contrôler des paramètres graphiques généraux :\n\npar()\nlayout()\n\n\n\n\nLa fonction plot()\nLa fonction primitive de représentation graphique la plus couramment utilisée est la fonction plot(). Il s’agit d’une fonction générique dont le comportement s’adapte automatiquement à la nature de ses arguments.\n\n\n\n\n\n\nAvertissement\n\n\n\nEn fonction du type de variable choisie, la fonction plot() peut produire un graphique de style barplot, spineplot, stripchart, barplot ou curve. (cf. Notes de cours STT-4230 / STT-6230, de Sophie Baillargeon.)\n\n\nIl est même possible d’exécuter cette fonction sur l’ensemble d’un dataframe. Des nuages de points par couple de variables seront alors automatiquement produits :\n\nplot(iris) \n\n\n\n\n\n\n\n\nDeux syntaxes sont possibles pour utiliser cette fonction sur deux variables :\n\nClassique :\n\n\nx &lt;- seq(-pi, pi, 0.1)\ny &lt;- sin(x)\n\n\nplot(x, y) \n\n\n\n\n\n\n\n\n\nsyntaxe “formule” :\n\n\nplot(y ~ x)        \n\n\n\n\n\n\n\n\nDans l’expression y ~ x, y désigne la variable dépendante (à expliquer) et varX la variable indépendante (explicative).\nLa fonction plot() accepte une multitude d’arguments qui permettent de façonner les graphiques (voir le Help pour plus de détails).\n\nplot(y ~ x, \n  type = \"o\", # type de tracé: points (\"p\"), lignes (\"l\"), les deux (\"b\" ou \"o\"), ...\n  col = \"red\", # couleur, tapez `colours()` pour la liste complète\n  pch = 20, # type de symboles, un chiffre entre 0 et 25, tapez `?points`\n  cex = 1.1, # taille des symboles\n  lty = 1, # type de lignes, un chiffre entre 1 et 6\n  lwd = 1.4, # taille de lignes\n  xlim = c(-2.5, 2.5), # limites de l'axe des x\n  ylim = c(-1.5, 1.5), # limites de l'axe des y)\n  xlab = \"La variable x\", # titre pour l'axe des x\n  ylab = \"Le sinus  de x\", # titre pour l'axe des y\n  main = \"La fonction sinus entre -pi et pi\" # titre général pour le graphique\n) \n\n\n\n\n\n\n\n\n\n\n\n\nAjout d’éléménts\nUne fois le graphique construit, plusieurs fonctions primitives vous permettre d’ajouter différents éléments. Exemple :\n\nplot(y ~ x, \n  type = \"o\", # type de tracé: points (\"p\"), lignes (\"l\"), les deux (\"b\" ou \"o\"), ...\n  col = \"red\", # couleur, tapez `colours()` pour la liste complète\n  pch = 20, # type de symboles, un chiffre entre 0 et 25, tapez `?points`\n  cex = 1.1, # taille des symboles\n  lty = 1, # type de lignes, un chiffre entre 1 et 6\n  lwd = 1.4, # taille de lignes\n  xlim = c(-2.5, 2.5), # limites de l'axe des x\n  ylim = c(-1.5, 1.5), # limites de l'axe des y)\n  xlab = \"La variable x\", # titre pour l'axe des x\n  ylab = \"Le sinus  de x\") # titre pour l'axe des y) \n\n\n# Ajout d'une LEGENDE\nlegend(x = 0.9, # Emplacement de la légende (coin haut gauche)\n       y = -1.1, # Emplacement de la légende (coin haut gauche)\n       legend = \"Fonction sinus entre -pi et pi\", \n       bg = \"lightgoldenrod\",\n       col = \"red\",\n       pch = 20,\n       cex = 0.7, # Taille de lé lagende\n       lty = 1, \n       lwd = 1.4)\n\n# Ajout d'une LIGNE (horizontale)\nabline(h = 0, # Coupe l'axe des y à cette valeur \n       lty = 2, # Type de ligne\n       lwd = 0.5, # épaisseur\n       col = \"grey50\")\n\n# Ajout d'un POINT\npoints(x = -0, \n       y = 0, \n       col = \"red4\", \n       pch = 20,# Type de symbol\n       cex = 4)\n\n# Ajout de TEXTE\ntext(\"x = 0 = y\", # Texte à afficher\n     x = 0.4, # Emplacement du texte (centre)\n     y = -0.16, # Emplacement du texte (centre)  \n     col = \"red4\")     \n       \n# Ajout d'un TITRE\ntitle(\"Titre de mon graphique\", \n      cex.main = 1.2,  \n      font.main= 4, \n      col.main= \"red4\")\n\n\n\n\n\n\n\n\n\n\n\n\nFenêtre graphique\nDeux fonctions - par() et layout() - permettent de gérer les paramètres graphiques, comme la disposition des figures, les marges, les axes, la police… :\nExemple d’utilisation de la fonction par() qui contient un grand nombre d’arguments possibles (cf. ?par) :\n\npar(bg = \"royalblue1\", # Couleur de fond\n    col= \"white\",      # couleur du graphique\n    mfrow = c(2,2),    # Fenêtre découper en deux lignes / deux colonnes (4 graphiques)\n    mar = c(5,3,4,1))  # Gestion des marges pour chaque graphique (B,L,T,R)\n\n\nplot(x = log(1:10), y = 10:1, main = \"plot 1\")\n\nplot(x = exp(1:10), y = log(1:10), main = \"plot 2\")\n\nplot(x = sin(1:10), y = 1:10, main = \"plot 3\")\n\nplot(x = 1:10, y = exp(1:10), main = \"plot 4\")\n\n\n\n\n\n\nlayout() propose moins d’arguments mais permet un meilleur ajustement de la disposition des figures. Pour cela, il est nécessaire de construire une matrice pour indiquer la position et l’espace de chaque graphique ajouté. Exemple :\n\nmatrix(c(1,1,1,2,0,3,2,0,3),  3,  3,  byrow = TRUE)\n\n     [,1] [,2] [,3]\n[1,]    1    1    1\n[2,]    2    0    3\n[3,]    2    0    3\n\n\nAvec la matrice ci-dessus, la fenêtre graphique sera paramétrée pour contenir trois graphiques. Le graphique 1 occupera toute la première ligne. le graphique 2 occupera les deux dernières lignes de la première colonne, et le 3e sera situé dans les deux dernières lignes de la dernière colonne. Exemple :\n\npar(bg  = \"royalblue1\",  col= \"white\")\n\n# Découpage de la fenêtre graphique\nlayout(mat = matrix(c(1,1,1,2,0,3,2,0,3),  3,  3,  byrow = TRUE))\n\nplot(x = exp(1:10), y = log(1:10), main = \"plot 1\")\nplot(x = sin(1:10), y = 1:10, main = \"plot 2\")\nplot(x = log(1:10), y = 10:1, main = \"plot 3\")"
  },
  {
    "objectID": "modules/graphique/Rbase_graph.html#principaux-graphiques",
    "href": "modules/graphique/Rbase_graph.html#principaux-graphiques",
    "title": "Graphique R-base",
    "section": "Principaux graphiques",
    "text": "Principaux graphiques\n\nVariable Quanti.\nPour représenter la distribution d’un variable quantitative, plusieurs types de graphiques peuvent être utilisés.\n\nstripchart()\nLa fonction stripchart() permet de représenter la distribution d’une variable quantitative.\n\n\nCode\npar(mfrow = c(2,2)) \n\n# gauche supérieur\nstripchart(cars$speed, xlab = \"speed\", pch = 16)\n\n# droite supérieur\nstripchart(cars$speed, xlab = \"speed\", method = \"stack\", pch = 16)\n\n# gauche inférieur\nstripchart(cars$speed, xlab = \"speed\", method = \"jitter\", pch = \"#\")\n\n# droite inférieur\nstripchart(cars$speed, ylab = \"speed\", method = \"jitter\", vertical = TRUE)\n\n\n\n\n\n\n\nhist()\nLa fonction hist() permet de construire un histogramme.\n\n\nCode\npar(mfrow = c(2,2)) \n\n# gauche supérieur\nhist(cars$speed)\n\n# droite supérieur\nhist(cars$speed, breaks = quantile(cars$speed), main = \"Histogramme par quartile\")\n\n# gauche inférieur\nhist(cars$speed, freq = FALSE, main = \"Histogramme des proportions\")\n\n# droite inférieur\nhist(cars$speed, freq = FALSE, main = \"Histogramme et densité échantillonnale\")\nlines(density(cars$speed))\n\n\n\n\n\n\n\nboxplot()\nLa fonction boxplot()permet de construire une boîte à moustache. Elle peut être associée à la fonction stripchart().\n\n\nCode\npar(mfrow = c(1,2)) \n\n# gauche\nboxplot(cars$dist)\n\n# droite\nboxplot(cars$dist, horizontal=T, varwidth= TRUE, col = \"red4\", outline = FALSE)\nstripchart(cars$dist,  pch = 16, metho = \"jitter\", add = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2 variables Quanti.\n\nplot()\nUtilisez la fonction plot() pour représenter deux variables quantitatives.\n\n\nCode\nplot(speed ~ dist, data = cars, pch = 16)\n\n# Ajout d'une marque pour chaque individus le long de l'axe des abcisses\nrug(cars$dist)\n\n\n\n\n\n\n\n\n\n\n\n\nVariable Quali.\n\nplot()\nLa fonction plot() peut être utilisée pour une variable qualitative. Pour cela la variable doit être stockée dans le format factor.\n\nclass(esoph$alcgp)\n\n[1] \"ordered\" \"factor\" \n\nplot(esoph$agegp)\n\n\n\n\n\n\n\n\n\n\nbarplot()\nVous pouvez utiliser la fonction barplot() sur une table de fréquence.\n\n# Calcul table de fréquence\ntable_freq &lt;- table(esoph$agegp)\n\n# Fréquence par modalité\ntable_freq \n\n\n25-34 35-44 45-54 55-64 65-74   75+ \n   15    15    16    16    15    11 \n\nbarplot(table_freq )\n\n\n\n\n\n\n\n\n\n\n\n\n\n2 variables Quali.\nComme avec une variable qualitative, vous pouvez utiliser les fonction plot() et barplot() pour représenter La répartition d’individus en fonction de deux variables qualitatives.\n\nplot()\nComme avec une seule variable, les variables qualitatives croisées doivent être stockée en factor.\n\n\nCode\nplot(alcgp ~ agegp, data = esoph)\n\n\n\n\n\n\n\n\n\n\n\nbarplot()\nLa fonction barplot fonctionne également sur deux variables qualitatives. Dans un premier temps, calculez le tableau croisé à partir des deux variables qualitatives ciblées :\n\n# Calcul table de fréquence\ntable_freq &lt;- table(esoph$alcgp, esoph$agegp)\n\n# Fréquence par modalité\ntable_freq \n\n           \n            25-34 35-44 45-54 55-64 65-74 75+\n  0-39g/day     4     4     4     4     4   3\n  40-79         4     4     4     4     3   4\n  80-119        3     4     4     4     4   2\n  120+          4     3     4     4     4   2\n\n\nPuis utilisez la fonction barplot() :\n\n\nCode\npar(mfrow = c(2,2)) \n\n# gauche supérieur\nbarplot(table_freq)\n\n# droite supérieur\nbarplot(table_freq, horiz = TRUE)\n\n# gauche inférieur\nbarplot(table_freq, horiz = TRUE, beside=TRUE)\n\n# droite inférieur\nbarplot(table_freq, beside=TRUE, legend.text = levels(esoph$alcgp), \n        args.legend=list(x=\"bottomright\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuanti. et Quali.\n\nplot()\nLa fonction généraliste plot() peut être utilisée. Si la variable qualitative est appelée en première, le graphique prendra la forme d’un spine plot (%). Dans le cas contraire, la fonction renverra un ensemble de boxplots.\n\n\nCode\npar(mfrow = c(1,2)) \n\n\n# Spine plot\nplot(agegp ~ ncases, data = esoph, main = \"Spine plot\")\n\n# Boxplot\nplot(ncases ~ agegp, data = esoph, main = \"Boxplots\")\n\n\n\n\n\n\n\n\n\nIl est également possible d’utiliser directement la fonction boxplot pour représenter la distribution de chaque individus pour une variable quantitative, par modalité d’une variable qualitative :\n\n\nCode\nboxplot(ncases ~ agegp, data = esoph)\n\n\n\n\n\n\n\n\n\nL’argument col de la fonction plot() permet aussi de représenter trois variables (quantitative ~ quantitative + qualitative). Pour cela, il est préférable d’utiliser une variable qualitative stockée en format factor.\n\n\nCode\n# Conversion de la variable qualitative en format factor\nmtcars$cyl &lt;- as.factor(mtcars$cyl)\n\n# Nuage de point\nplot(disp ~ wt, \n     data = mtcars, \n     col = cyl, # Couleur des points en fonction d'une variable qualitative\n     pch = 16, \n     xlab = \"Weight\",\n     ylab = \"Displacement\")\n\n# Ajout d'une légende\nlegend(x = \"bottomright\", \n       title = \"Number of cylinders\",\n       legend = levels(mtcars$cyl), \n       col =  1:3, \n       ncol = 3, \n       pch = 16)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTableau complet\nLa fonction pairs() (ou plot()) permet de construire une matrice du nuages de points entre toutes les variables d’un tableau, quelque soit leur type.\n\n\nCode\npairs(iris)\n\n\n\n\n\n\n\n\n\n\n\n\n\nExpression math.\nLa fonction curve() permet de tracer de représenter une expression mathématique.\n\n\nCode\ncurve(expr = (x), col = \"grey30\", from = -2, to = 2)\ncurve(expr = x^2,  col = \"green4\", add = TRUE)\ncurve(expr = x^3, col = \"red\", add = TRUE)\n\nlegend(\"bottomright\", title = \"Function\", \n       legend = c(\"(x)\", \"x^2\", \"x^3\"), \n       col = c(\"grey30\", \"green4\", \"red\"), \n       lty = 1)"
  },
  {
    "objectID": "modules/graphique/Rbase_graph.html#exporter-un-graphique",
    "href": "modules/graphique/Rbase_graph.html#exporter-un-graphique",
    "title": "Graphique R-base",
    "section": "Exporter un graphique",
    "text": "Exporter un graphique\nUn graphique crée dans RStudio est affiché par défaut dans l’onglet Plots. Dans cet onglet, vous pouvez zoomer sur le graphique en cliquant sur le bouton Zoom. Vous pouvez aussi enregistrer le graphique en cliquant sur le bouton Export :\n\n\n\n\n\nL’export d’un graphique peut être automatisé en ligne de code R de différente manière (cf. module import). Le procédure d’export la plus simple peut être réalisé avec la fonction dev.print(). Cette fonction permet aussi bien un export en format vectoriel que matricielle du graphique affiché.\n\n# Format pdf\ndev.print(device = pdf, \"graph_export.pdf\", width = 600) \n\n# format svg\ndev.print(device = svg, file = \"graph_export.svg\", width = 6)\n\n# format png\ndev.print(device = png, file = \"graph_export.png\", width = 600)\n\n# format png\ndev.print(device = jpeg, file = \"graph_export.jpeg\", width = 600)"
  },
  {
    "objectID": "modules/graphique/Rbase_graph.html#exercice",
    "href": "modules/graphique/Rbase_graph.html#exercice",
    "title": "Graphique R-base",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importez le fichier “afrika_don.csv” dans un data.frame\n\n\nUn peu d’aide ?\n... &lt;- read.csv2(file = \"...\")\n\n\n5. Construisez un histogramme par quartile pour la variable “POP” :\n\n\n\n\n\n\n\nUn peu d’aide ?\nhist(..., breaks  = quantile(...))\n\n\n6. Améliorez la mise en page, en ajoutant par exemple un peu de couleur, un titre, une source… :\n\n\n\n\n\n\n\nUn exemple ?\npar(bg = \"cornsilk3\")\n\nhist(My_data$POP, \n     breaks  = quantile(My_data$POP),\n     col = \"green4\",\n     border = \"white\",\n     xlab = \"Nombre d'habitants (millions)\", \n     ylab = \"Proportion\", \n     main = \"Répartition des pays africains selon leur population\")\n\nrug(My_data$POP)\nmtext(side = 4, \"source : UN, 2020\", cex = 0.8)\n\n\n7. Exportez le graphique à l’aide d’une fonction (format png)\n\n\nUn peu d’aide ?\ndev.print(device = ..., file = \"...\")\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/manipulation/manipulation.html",
    "href": "modules/manipulation/manipulation.html",
    "title": "Manipulation de tableau de données",
    "section": "",
    "text": "Plusieurs packages comme data.table ou tidyverse (dplyr, tidyr, stringr…) sont d’excellentes extensions qui facilitent la manipulation de données. Cependant, le langage R et ses fonctions primitives permettent déjà de faire beaucoup de choses facilement et sans charger de packages supplémentaires…\nDans cette leçon, nous nous intéressons principalement à la manipulation de tableau, et plus précisément à la manipulation de l’objet data.frame avec R."
  },
  {
    "objectID": "modules/manipulation/manipulation.html#le-data.frame",
    "href": "modules/manipulation/manipulation.html#le-data.frame",
    "title": "Manipulation de tableau de données",
    "section": "Le data.frame",
    "text": "Le data.frame\nLe data.frame est un objet primitif de R qui permet de stocker un tableau de données.\nChaque colonne d’un data.frame est en fait un vecteur (liste d’éléments de même type). On peut donc dire qu’un data.frame est en réalité un ensemble de vecteurs de même longueur (même nombre d’éléments). Pour bien comprendre cela, il suffit de construire un data.frame de toute pièce :\n\n# Construction de plusieurs vecteurs de même longueur (3 éléments à chaque fois)\nnom &lt;- c(\"Modibo Keïta\", \"Moussa Traoré\", \"Alpha Oumar Konaré\")\nnaissance &lt;- c(\"1915-06-04\", \"1936-09-25\", \"1946-02-02\")\narrivee_pouvoir &lt;- c(1960, 1968, 1992)\nduree_pouvoir &lt;- c(8, 22, 10)\nparcours_militaire &lt;- c(FALSE, TRUE, FALSE)\n\n# Construction du data.frame à partir de ces vecteurs\nmon_tableau &lt;- data.frame(nom,\n                          naissance,\n                          arrivee_pouvoir,\n                          duree_pouvoir,\n                          parcours_militaire)\n\n# Vérification du type d'objet créer\nclass(mon_tableau)\n\n[1] \"data.frame\"\n\n\nmon_tableau :\n\n\n\n\n\nnom\nnaissance\narrivee_pouvoir\nduree_pouvoir\nparcours_militaire\n\n\n\n\nModibo Keïta\n1915-06-04\n1960\n8\nFALSE\n\n\nMoussa Traoré\n1936-09-25\n1968\n22\nTRUE\n\n\nAlpha Oumar Konaré\n1946-02-02\n1992\n10\nFALSE"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#interroger-un-df",
    "href": "modules/manipulation/manipulation.html#interroger-un-df",
    "title": "Manipulation de tableau de données",
    "section": "Interroger un df",
    "text": "Interroger un df\nPlusieurs fonctions permettent de visualiser la structure d’un data.frame. Exemples :\n\n# Afficher le tableau de données\nView(mon_tableau)\n\nCette fonction est l’équivalent du clic sur l’objet data.frame dans l’onglet environnement de l’EDI Rstudio :\n\n\n\n\n\n\n\n\n\nIl est également possible d’afficher, directement dans la console, les premières lignes ou dernières lignes d’un data.frame.\n\n# Afficher les premières lignes (6 par défaut)\nhead(mon_tableau)\n\n# Afficher les denrières lignes (6 par défaut)\nhead(mon_tableau, n = 10)\n\nLa fonction str() permet d’interroger la structure d’un tableau et de ses variables.\n\n# Pour connaitre la structure d'un tableau\nstr(mon_tableau)\n\n'data.frame':   3 obs. of  5 variables:\n $ nom               : chr  \"Modibo Keïta\" \"Moussa Traoré\" \"Alpha Oumar Konaré\"\n $ naissance         : chr  \"1915-06-04\" \"1936-09-25\" \"1946-02-02\"\n $ arrivee_pouvoir   : num  1960 1968 1992\n $ duree_pouvoir     : num  8 22 10\n $ parcours_militaire: logi  FALSE TRUE FALSE\n\n\nCette fonction est l’équivalent du clic sur l’icône bleu situé à gauche d’un data.frame dans l’onglet environnement de l’EDI Rstudio :\n\n\n\n\n\n\n\n\n\nUn ensemble de fonction permettent d’interroger les dimensions d’un data.frame. Ex :\n\n# Nombre de colonnes\n# length(mon_tableau) ou :\nncol(mon_tableau)\n\n[1] 5\n\n# Nombre de lignes\nnrow(mon_tableau)\n\n[1] 3\n\n# Dimension d'un tableau (nombre de colonnes et de lignes)\ndim(mon_tableau)\n\n[1] 3 5\n\n\nLa fonction colnames() permet de récupérer les noms de colonnes.\n\ncolnames(mon_tableau)\n\n[1] \"nom\"                \"naissance\"          \"arrivee_pouvoir\"   \n[4] \"duree_pouvoir\"      \"parcours_militaire\"\n\n\nEnfin la fonction summary(), qui peut être utilisée sur n’importe quel type d’objet, renvoie un résumé statistique pour chaque colonne lorsqu’elle est exécutée sur un data.frame.\n\nsummary(mon_tableau)\n\n     nom             naissance         arrivee_pouvoir duree_pouvoir  \n Length:3           Length:3           Min.   :1960    Min.   : 8.00  \n Class :character   Class :character   1st Qu.:1964    1st Qu.: 9.00  \n Mode  :character   Mode  :character   Median :1968    Median :10.00  \n                                       Mean   :1973    Mean   :13.33  \n                                       3rd Qu.:1980    3rd Qu.:16.00  \n                                       Max.   :1992    Max.   :22.00  \n parcours_militaire\n Mode :logical     \n FALSE:2           \n TRUE :1"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#créer-un-colonne",
    "href": "modules/manipulation/manipulation.html#créer-un-colonne",
    "title": "Manipulation de tableau de données",
    "section": "Créer un colonne",
    "text": "Créer un colonne\nLa syntaxe suivante mon_tableau$nom utilisant le symbole “$” permet de sélectionner une colonne (ici ‘nom’) d’un data.frame. Cette syntaxe peut également être utilisée pour créer une nouvelle colonne. Exemple :\n\nmon_tableau$new_col &lt;- c(\"val1\", \"val2\", \"val3\")\n\nCette syntaxe permet également créer une nouvelle colonne à partir de colonnes existantes :\n\nmon_tableau$fin_pouv &lt;- mon_tableau$arrivee_pouvoir + mon_tableau$duree_pouvoir\n\nmon_tableau avec ses deux nouvelles colonnes :\n\n\n\n\n\nnom\nnaissance\narrivee_pouvoir\nduree_pouvoir\nparcours_militaire\nnew_col\nfin_pouv\n\n\n\n\nModibo Keïta\n1915-06-04\n1960\n8\nFALSE\nval1\n1968\n\n\nMoussa Traoré\n1936-09-25\n1968\n22\nTRUE\nval2\n1990\n\n\nAlpha Oumar Konaré\n1946-02-02\n1992\n10\nFALSE\nval3\n2002"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#séléctionner",
    "href": "modules/manipulation/manipulation.html#séléctionner",
    "title": "Manipulation de tableau de données",
    "section": "Séléctionner",
    "text": "Séléctionner\nLe symbole “$” permet de sélectionner une colonne d’un tableau. Pour sélectionner plusieurs colonnes et également des lignes précises, deux solutions sont possibles.\n\nLes crochets [ , ]\n\n# df[toutes les lignes, 4e colonne]\nmon_tableau[, 4]\n\n# df[lignes 1 à 2, toutes les colonnes]\nmon_tableau[1:2, ]\n\n# df[toutes les lignes, 1er et 3e colonne]\nmon_tableau[, c(1,3)]\n\n# df[toutes les lignes où la durée du pouvoir est égal ou supérieur à 10]\nmon_tableau[duree_pouvoir  &lt;= 10, ]\n\nExemple, sélection des valeurs situées ligne 2, dans les colonnes “nom” et “naissance” :\n\n# df[ligne 2, colonne \"nom\"]\nmon_tableau[2 , c(\"nom\", \"naissance\")]\n\n            nom  naissance\n2 Moussa Traoré 1936-09-25\n\n\n\n\nLa fonction subset()\nLa fonction primitive subset() permet également de réaliser des sélections dans un data.frame. Avec cette fonction, il n’est pas possible de sélectionner des lignes avec leur index. La sélection de ligne doit forcément répondre à une condition.\n\nsubset(mon_tableau,   \n       subset = duree_pouvoir &lt;= 10,\n       select = c(\"nom\", \"naissance\"))\n\n                 nom  naissance\n1       Modibo Keïta 1915-06-04\n3 Alpha Oumar Konaré 1946-02-02"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#regrouper",
    "href": "modules/manipulation/manipulation.html#regrouper",
    "title": "Manipulation de tableau de données",
    "section": "Regrouper",
    "text": "Regrouper\n\nFonction aggregate()\nLa fonction primitive pour regrouper des lignes d’un data.frame en fonction d’une valeur n’est pas très simple d’utilisation. De plus, elle ne permet de calculer qu’une seul nouvelle variable à partir du regroupement opéré. La fonction goup_by() du package dplyr lui est souvent préférée.\n\n#  Regroupement les lignes sur variable \"parcours_militaire\"\n# et calcul du nombre d'individus regroupés\naggregate(mon_tableau$parcours_militaire, \n          by=list(militaire=parcours_militaire),\n          FUN = length)\n\n  militaire x\n1     FALSE 2\n2      TRUE 1\n\n\n\n#  Regroupement les lignes sur variable \"parcours_militaire\"\n# et calcul de la durée moyenne au pouvoir pour chaque groupe\naggregate(duree_pouvoir ~ parcours_militaire, \n          data = mon_tableau, \n          FUN = mean)\n\n  parcours_militaire duree_pouvoir\n1              FALSE             9\n2               TRUE            22"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#joindre",
    "href": "modules/manipulation/manipulation.html#joindre",
    "title": "Manipulation de tableau de données",
    "section": "Joindre",
    "text": "Joindre\nUn jointure peut s’effectuer à l’aide de la fonction primitive merge().\n\n# Construction d'un second tableau \nnom &lt;- c(\"Modibo Keïta\", \"Moussa Traoré\", \"Alpha Oumar Konaré\")\ndeces &lt;-  c(1977, 2020, NA)\nmon_tableau_bis &lt;- data.frame(nom, deces)\n\n# Jointure de deux tableaux par le \"nom\"\nmerge(mon_tableau, mon_tableau_bis, by=\"nom\")\n\n                 nom  naissance arrivee_pouvoir duree_pouvoir\n1 Alpha Oumar Konaré 1946-02-02            1992            10\n2       Modibo Keïta 1915-06-04            1960             8\n3      Moussa Traoré 1936-09-25            1968            22\n  parcours_militaire new_col fin_pouv deces\n1              FALSE    val3     2002    NA\n2              FALSE    val1     1968  1977\n3               TRUE    val2     1990  2020"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#trier",
    "href": "modules/manipulation/manipulation.html#trier",
    "title": "Manipulation de tableau de données",
    "section": "Trier",
    "text": "Trier\nLa fonction primitive sort() peut être utilisée pour trier les éléments d’un vecteur, mais pour trier un tableau en fonction des valeurs d’une ou de plusieurs variables, utilisez la fonction order(). Il est obligatoire d’assigner le résultat dans un objet pour que le tri opéré soit gardé en mémoire.\n\nmon_tableau[order(duree_pouvoir, decreasing = TRUE), 1:4]\n\n                 nom  naissance arrivee_pouvoir duree_pouvoir\n2      Moussa Traoré 1936-09-25            1968            22\n3 Alpha Oumar Konaré 1946-02-02            1992            10\n1       Modibo Keïta 1915-06-04            1960             8"
  },
  {
    "objectID": "modules/manipulation/manipulation.html#chaîne-de-caractère",
    "href": "modules/manipulation/manipulation.html#chaîne-de-caractère",
    "title": "Manipulation de tableau de données",
    "section": "Chaîne de caractère",
    "text": "Chaîne de caractère\nLa manipulation de chaîne de caractère dans un tableau est une opération classique. Si il existe des packages très puissant comme stringr pour traiter les chaînes de caractère, les fonctions primitives du langage R offrent un certain nombre de fonctionnalités.\n\nConcatener\nLes fonction paste et paste0 permet de concatener des chaîne de caractère\n\npaste(mon_tableau$nom, \"a été président du Mali pendant\", mon_tableau$duree_pouvoir, \"ans\")\n\n[1] \"Modibo Keïta a été président du Mali pendant 8 ans\"       \n[2] \"Moussa Traoré a été président du Mali pendant 22 ans\"     \n[3] \"Alpha Oumar Konaré a été président du Mali pendant 10 ans\"\n\n\n\n\nGérer la casse\nPlusieurs foncntions primitives permettent de gérer la casse d’une chaîne de caractère.\n\n# Transformation en minuscule\ntolower(mon_tableau$nom)\n\n[1] \"modibo keïta\"       \"moussa traoré\"      \"alpha oumar konaré\"\n\n# Transformation en majuscule\ntoupper(mon_tableau$nom)\n\n[1] \"MODIBO KEÏTA\"       \"MOUSSA TRAORÉ\"      \"ALPHA OUMAR KONARÉ\"\n\n# Minuscule ou majuscule \ncasefold(mon_tableau$nom, upper = TRUE)\n\n[1] \"MODIBO KEÏTA\"       \"MOUSSA TRAORÉ\"      \"ALPHA OUMAR KONARÉ\"\n\n\n\n\nModifier\n\n# Pour extraire une partie de chaîne de caractère\nsubstring(text = mon_tableau$naissance, first =  1, last = 4)\n\n[1] \"1915\" \"1936\" \"1946\"\n\n# Pour remplacer une partie de chaîne de caractère\ngsub(x = mon_tableau$naissance , pattern = \"-\" , replacement = \"/\")\n\n[1] \"1915/06/04\" \"1936/09/25\" \"1946/02/02\"\n\n# Découper une chaîne de caractère \nstrsplit(x = mon_tableau$naissance, split = \"-\")\n\n[[1]]\n[1] \"1915\" \"06\"   \"04\"  \n\n[[2]]\n[1] \"1936\" \"09\"   \"25\"  \n\n[[3]]\n[1] \"1946\" \"02\"   \"02\""
  },
  {
    "objectID": "modules/manipulation/manipulation.html#exercice",
    "href": "modules/manipulation/manipulation.html#exercice",
    "title": "Manipulation de tableau de données",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio\nFile/New Project/New Directory…\n2. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nDonnées pays africains (UN-CEPII)\n Download\n\n\nFond de carte Afrique (GADM 2020)\n Download\n\n\n\n3. Placez les données (décompressées) dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n4. Importez les fichiers suivants en utilisant les fonctions adéquates :\n\ndata/DEV_AFRIA_2018/afrika_don.csv\n\ndata/GADM_AFRICA_2020/afrika_map.shp\n\n\n\n\nUn peu d’aide ?\n# Pour importer le fichier csv (afrika_don.csv)\nread.csv()\nread.csv2()\n\n# Pour importer le fichier ESRI Shapefile (afrika_map.shp)\nlibrary(sf)\nst_read()\n\n\n5. Faîte une jointure entre le fond de carte des pays et le tableau de données\n\n\nUn peu d’aide ?\nmerge(x = ... , y = ... , by = \"...\", all.x = ...) \n\n\n6. Créez une nouvelle colonne stockant le nom de chaque pays en MAJUSCULE\n\n\nUn peu d’aide ?\n...$... &lt;- toupper(...$...)\n\n\n7. Sélectionnez uniquement les pays francophone (LANGR = 1)\n\n\nUn peu d’aide ?\n... &lt;- ....[...$LANGR == ... , ]\n\n\n8. Calculer le nombre de pays francophone par sous-région\n\n\nUn peu d’aide ?\n... &lt;- aggregate(... ~ ..., \n                 data = ..., \n                 FUN = ...)\n\n\n9. Modifiez les noms des colonnes du tableau de regroupement crée pour les rendre plus intelligibles\n\n\nUn peu d’aide ?\ncolnames(...) &lt;- c(\"...\", \"...\")\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/reseau/igraph.html",
    "href": "modules/reseau/igraph.html",
    "title": "Analyse de réseau avec igraph",
    "section": "",
    "text": "Cette leçon a pour objectif d’introduire à la manipulation de réseau avec le package igraph.Elle s’adresse aux utilisateur·rices R maîtrisant les manipulations de base des objets R. Un minimum de connaissance en matière de théorie de graphe est également requis.\nPlan du cours :\n\nPrésentation du package igraph\nL’objet igraph : création, manipulation et export\n\nIndicateurs globaux\n\nMesures locales\n\nCliques et communautés\n\nReprésentation graphique\n\nExercice"
  },
  {
    "objectID": "modules/reseau/igraph.html#introduction",
    "href": "modules/reseau/igraph.html#introduction",
    "title": "Analyse de réseau avec igraph",
    "section": "",
    "text": "Cette leçon a pour objectif d’introduire à la manipulation de réseau avec le package igraph.Elle s’adresse aux utilisateur·rices R maîtrisant les manipulations de base des objets R. Un minimum de connaissance en matière de théorie de graphe est également requis.\nPlan du cours :\n\nPrésentation du package igraph\nL’objet igraph : création, manipulation et export\n\nIndicateurs globaux\n\nMesures locales\n\nCliques et communautés\n\nReprésentation graphique\n\nExercice"
  },
  {
    "objectID": "modules/reseau/igraph.html#manuel-exercice",
    "href": "modules/reseau/igraph.html#manuel-exercice",
    "title": "Analyse de réseau avec igraph",
    "section": " Manuel & exercice",
    "text": "Manuel & exercice\n\n\n\n\n\n Consulter en plein écran"
  },
  {
    "objectID": "modules/graphique.html",
    "href": "modules/graphique.html",
    "title": "Graphique",
    "section": "",
    "text": "Graphique R-base\n\n\nRepresentations graphiques avec les fonctions primitives\n\n\n\n\n\n\n10 juil. 2023\n\n\nHugues pecout, Justin Dansou\n\n\n\n\n\n\n\n\nLe package ggplot2\n\n\nReprésentations graphiques avec ggplot2\n\n\n\n\n\n\n10 juil. 2023\n\n\nJustin Dansou, Hugues Pecout\n\n\n\n\n\n\nAucun article correspondant\n\n\n\n\nRevenir à la page d’acceuil des modules"
  },
  {
    "objectID": "modules/import/scraping.html",
    "href": "modules/import/scraping.html",
    "title": "Introduction au WebScraping",
    "section": "",
    "text": "Travail en cours\n\n\n\nPublication prévue pour avril 2024"
  },
  {
    "objectID": "modules/import/scraping.html#fondamentaux-et-cas-pratiques-de-webscraping-avec-r-et-python",
    "href": "modules/import/scraping.html#fondamentaux-et-cas-pratiques-de-webscraping-avec-r-et-python",
    "title": "Introduction au WebScraping",
    "section": "",
    "text": "Travail en cours\n\n\n\nPublication prévue pour avril 2024"
  },
  {
    "objectID": "modules/reproductibilite/minicran.html",
    "href": "modules/reproductibilite/minicran.html",
    "title": "Le package miniCRAN",
    "section": "",
    "text": "Le package miniCRAN permet de créer un dépôt en interne composé de packages sélectionnés dans des dépôts de type CRAN. Cela permet de récupérer les sources binaires de packages ciblés, et de les rendre disponibles où l’on souhaite (sur sa machine, sur clef USB, sur son propre serveur…).\nminiCRAN peut par exemple être utilisé pour créer son CRAN personnel sur une clef USB, qui vous permettra d’installer ces packages sur n’importe quelle machine sans avoir besoin d’être connecté à internet.\nCommencez par installer le package miniCRAN :\n\ninstall.packages(\"miniCRAN\")\n\nminiCRAN ne récupère pas uniquement le code source d’un package ciblé mais également toutes ses dépendances (autres packages) indispensables à son fonctionnement.\n\nLister les dépendances\nla fonction pkgDep()permet de connaitre la liste de toutes les dépendances d’un package. Exemple :\n\nlibrary(\"miniCRAN\")\n\npkgDep(\"mapsf\", suggests = FALSE, enhances = FALSE)\n\n [1] \"mapsf\"      \"classInt\"   \"Rcpp\"       \"sf\"         \"e1071\"     \n [6] \"class\"      \"KernSmooth\" \"DBI\"        \"magrittr\"   \"s2\"        \n[11] \"units\"      \"MASS\"       \"proxy\"      \"wk\"        \n\n\nVous pouvez visualiser ces dépendances sous forme de graphe à l’aide de la fonction makeDepGraph() :\n\n# Construction d'un objet igraph (graphe) formalisant les dépendances d'un package\ngraph_dep &lt;- makeDepGraph( \"mapsf\", suggests = FALSE, enhances = FALSE)\n\n# Affichage du graphe\nplot(graph_dep , legendPosition = c(-1, 1), vertex.size = 20)\n\n\n\n\n\n\nCréer son miniCRAN\nAvant d’importer les sources des packages ciblés ainsi que leurs dépendances, créez un nouveau répertoire qui permettra de les stocker. Vous pouvez le faire manuellement ou en code R avec la fonction dir.create() :\n\npath_miniCRAN &lt;- \"/home/hugues/Documents/5.Cours/Modules_R/miniCRAN\"\n\n# Création du répertoire nommé \"miniCRAN\"\ndir.create(path = path_miniCRAN)\n\nIl ne vous reste plus qu’à remplir votre répertoire avec les sources des packages ciblés. Pour cela, utilisez la fonction makeRepo() :\n\n# Création d'un vecteur avec le ou les package(s) ciblé(s)\nmes_pkgs &lt;- c(\"readxl\", \"openxlsx\", \"haven\",\n              \"dplyr\", \"lubridate\", \"stringr\",\n              \"ggplot2\", \"FactoMineR\", \"sf\",\n              \"terra\", \"mapsf\", \"rmarkdown\", \"knitr\")\n\n\n# Téléchargement des sources des packages (+ dépendances) dans le répertoire \"miniCRAN\"\nmakeRepo(pkgDep(mes_pkgs), path = path_miniCRAN, type = c(\"source\", \"mac.binary\", \"win.binary\"))\n\n\n\nAjouter des packages\nIl est très simple de rajouter de nouveaux packages (et leur dépendances) dans votre miniCRAN en utilisant la fonction addPackage() :\n\naddPackage(\"tidyr\", path = path_miniCRAN, type = c(\"source\", \"mac.binary\", \"win.binary\"))\n\nPour lister l’ensemble des packages stockés sur votre miniCRAN, utilisez la fonction pkgAvail() :\n\n# Check for available packages\npkgAvail(repos = path_miniCRAN, )[, c(1:3, 5)]\n\n\n\nInstaller un package du miniCRAN\nPour installer un package stocké sur votre miniCRAN local, utilisez la fonction install.packages()de la manière suivante :\n\n# Chemin d'accès jusqu'au \"miniCRAN\" stocké sur votre machine.\nurl_miniCRAN &lt;- paste0(\"file:///\", \"C:/Users/&lt;username&gt;/.../miniCRAN\")\n\n# Installation (type = \"source\", \"mac.binary\" ou \"win.binary\")\ninstall.packages(\"ggplot2\", \n                 repos = url_miniCRAN,\n                 type = \"win.binary\", \n                 dependencies = TRUE)\n\n\n\nLe miniCRAN de TIG’R\nUn miniCRAN comportant l’ensemble des packages utilisés dans les leçons de ce site web est mis à disposition. Vous pouvez le télécharger en vous connectant à cette page.\n\n\nPour aller plus loin\nPour connaitre l’ensemble des fonctionnalités offertes par le package miniCRAN, consultez le site web du package."
  },
  {
    "objectID": "modules/geomatique/OpenStreetMap.html",
    "href": "modules/geomatique/OpenStreetMap.html",
    "title": "OpenStreetMap & R",
    "section": "",
    "text": "Cette leçon vise à introduire différents types d’exploitation de la base de données géographique libre OpenStreetMap avec R. Les traitements et analyses présentés sont :\n\nGéocodage d’adresses avec tidygeocoder\nCartographie interactive avec leaflet et mapview\nExtraction de données avec maptiles, osmdata et osmextract\nCalcul de matrice de distance euclidienne avec sf, puis par la route avec osrm\nCalcul itinéraires avec osrm"
  },
  {
    "objectID": "modules/geomatique/OpenStreetMap.html#introduction",
    "href": "modules/geomatique/OpenStreetMap.html#introduction",
    "title": "OpenStreetMap & R",
    "section": "",
    "text": "Cette leçon vise à introduire différents types d’exploitation de la base de données géographique libre OpenStreetMap avec R. Les traitements et analyses présentés sont :\n\nGéocodage d’adresses avec tidygeocoder\nCartographie interactive avec leaflet et mapview\nExtraction de données avec maptiles, osmdata et osmextract\nCalcul de matrice de distance euclidienne avec sf, puis par la route avec osrm\nCalcul itinéraires avec osrm"
  },
  {
    "objectID": "modules/geomatique/OpenStreetMap.html#manuel",
    "href": "modules/geomatique/OpenStreetMap.html#manuel",
    "title": "OpenStreetMap & R",
    "section": " Manuel",
    "text": "Manuel\n\n\n\n\n\n Consulter en plein écran"
  },
  {
    "objectID": "modules/geomatique/OpenStreetMap.html#exercice",
    "href": "modules/geomatique/OpenStreetMap.html#exercice",
    "title": "OpenStreetMap & R",
    "section": " Exercice",
    "text": "Exercice\n\n1. Créez un projet Rstudio puis un script R à la racine du projet.\nFile/New Project/New Directory…\n2. Géocodez une de ces deux adresses :\nA. IRSP : “Institut Régional de Santé Publique de Ouidah, Bénin”\nB. LaReSPD : “Université de Parakou, Bénin”\n\n\nUn peu d’aide ?\n# Construction d'un data.frame avec nom et adresse\n... &lt;- data.frame(name = \"IRSP\",\n                  addresse = \".........\")\n\n# Géocodage \nlibrary(tidygeocoder)\n... &lt;- geocode(.tbl = ...,  address = ...)\n\n\n3. Créez un point (objet sf) à partir de la latitude et de la longitude récupérées.\n\n\nUn peu d’aide ?\nlibrary(sf)\n\n# Création objet sf\n... &lt;- st_as_sf(..., coords = c(\"...\", \"...\"), crs = 4326)\n\n\n4. Transformez la projection de ce point en WGS84 / Pseudo-Mercator (EPSG 3857), puis visualisez-le avec mapview.\n\n\nUn peu d’aide ?\n... &lt;- st_transform(..., crs = 3857)\n\nlibrary(mapview)\nmapview(...)\n\n\n5. Téléchargez les données suivantes :\n\n\n\n\n\n\n\nIntitulé\nTéléchargement\n\n\n\n\nEmprise des agglomérations urbaines (AFRICAPOLIS 2020)\n Download\n\n\n\n6. Placez les données décompressées dans le répertoire de votre projet, de la façon suivante :\n\n\n\n\n\n\n\n\n\n7. Importez la couche géographique africapolis_extract.shp et transformez sa projection en en WGS84 / Pseudo-Mercator (EPSG 3857).\n\n\nUn peu d’aide ?\n... &lt;- st_read(\"data/.../....shp\",  quiet = TRUE)\n\n# Transformation de la projection en Pseudo-Mercator (3857)\n... &lt;- st_transform(..., crs = 3857)\n\n\n8. Sélectionnez uniquement les agglomérations béninoises.\n\n\nUn peu d’aide ?\n... &lt;- ...[...$... == \"BEN\", ]\n\n\n9. Extrayez les centroïdes des polygones d’agglomération du Bénin.\n\n\nUn peu d’aide ?\n... &lt;- st_centroid(...)\n\n\n10. Extrayez la tuile (fond de carte) OSM située au niveau des centroïdes extraits.\nVous pouvez utiliser la fonction st_buffer() pour extraire une zone légèrement plus étendue que l’emprise des centroïdes.\n\n\nUn peu d’aide ?\nlibrary(maptiles)\n... &lt;- get_tiles(x = st_buffer(x = ..., dist =  ...), zoom = 8, crop = TRUE)\n\n\n11. Affichez la tuile OSM, les centroïdes d’agglomérations et l’IRSP (ou LaReSPD) sur une carte.\n\n\nUn peu d’aide ?\nplot_tiles(...)\nplot(st_geometry(...),  col=\"...\" , add = TRUE)\nplot(st_geometry(...),  col=\"...\" , add = TRUE)\n\n# Source des données ?\nmtext(side = 1, line = -1, text = get_credit(\"OpenStreetMap\"), col=\"tomato\")\n\n\n12. Calculez trois matrices de distance différentes entre l’IRSP (ou LaReSPD) et les centroïdes des agglomérations béninoises.\nA. Une matrice de distance euclidienne\nB. Une matrice de distance par la route\nC. Un matrice de distance temps par la route\n\n\nUn peu d’aide ?\n# Distance Euclidienne \n... &lt;- st_distance(x = ..., y = ...) \n\n# Distance et temps par la route\nlibrary(osrm)\n... &lt;- osrmTable(src = ..., \n                 dst = ...,\n                 measure = c(\"...\", \"...\"))\n\n\n13. Créez de nouveaux attributs (nouvelles colonnes) dans la couche géographique des centroïdes d’agglomérations, pour y stocker les distances euclidiennes à l’IRSP (ou LaReSPD), et les distances (km et temps) par la route.\nConvertissez les distances calculées (mètres) en kilomètres et les temps (minutes) en heures.\n\n\nUn peu d’aide ?\n# Distances euclidiennes\n...$... &lt;- as.numeric(...) / 1000\n\n# Distances km/route\n...$... &lt;- as.numeric(...$...) / 1000\n\n# Distances hrs/route\n...$... &lt;- as.numeric(...$...) / 60\n\n\n14. Calculez les indices moyens d’accessibilité à l’IRSP (ou LaReSPD).\n\n\nUn peu d’aide ?\n# Moyenne des indices accessibilité \nmean(...$...)\nmean(...$...)\nmean(...$...)\n\n\n15. Calculez les indices de performances suivants à partir des distances récupérées.\n\nIndice de sinuosité = distance km par la route / distance euclidienne\n\nIndice de vitesse sur route = distance km par la route / distance temps par la route\n\nIndice global de performance = Indice de vitesse sur route / Indice de sinuosité.\n\nEnregistrez ces indices dans de nouvelles colonnes. Vous pouvez arrondir leurs valeurs à l’aide de la fonction round().\n\n\nUn peu d’aide ?\n# Indice de sinuosité \n...$ind_sin &lt;- round(...$... / ...$..., 2)\n\n# Indice de vitesse sur route\n...$ind_vit &lt;- round(...$... / ...$..., 1)\n\n# Indice global de performance\n...$... &lt;- round(...$ind_vit / ...$ind_sin, 1)\n\n\n16. Cartographiez l’indice global de performance sur les centroïdes (points) des agglomérations. Utilisez la tuile OSM téléchargée comme fond de carte.\n\n\nUn peu d’aide ?\nlibrary(mapsf)\nlibrary(maptiles)\n\n# Affichage de la tuile\nplot_tiles(...)\n\n# Cartographie de l'indice global de performance\nmf_map(x = ...,\n       var = \"...\",\n       type = \"...\",\n       pal = \"...\",\n       leg_pos = \"...\",\n       leg_title = \"...\",\n       breaks = \"...s\",\n       nbreaks = ...,\n       leg_val_rnd = ...,\n       border= ...,\n       cex = ...,\n       add = TRUE)\n\n# Affichage de l'IRSP (ou LaReSPD)\nplot(st_geometry(...), border = NA, col=\"red\", pch = 20, cex = 2, add = TRUE)\n\n\n17. Quelle agglomération présente la plus forte valeur de l’indice global de performance d’accessibilité pour l’IRSP (ou LaReSPD).\n\n\nUn peu d’aide ?\n# Sélection \n... &lt;- ...[...$... == max(...$...), ]\n\n\n18. Calculez l’itinéraire (plus court chemin) entre l’IRSP (ou LaReSPD) et cette agglomération. Cartographiez cet intinéraire sur la tuile OSM téléchargée.\n\n\nUn peu d’aide ?\nlibrary(osrm)\nroute &lt;- osrmRoute(src = ..., dst = ...)\n\n# Cartographie\nplot_tiles(...)\nplot(st_geometry(route), col = \"grey10\", lwd = 6, add = TRUE)\nplot(st_geometry(route), col = \"grey90\", lwd = 1, add = TRUE)\n# Affichage du point d'origine\nplot(st_geometry(...), border = NA, col=\"red\", pch = 20, cex = 3, add = TRUE)\n# Affichage du point de destination\nplot(st_geometry(...), border = NA, col=\"red\", pch = 20, cex = 3, add = TRUE)\n# Crédit pour la tuile OSM\nmtext(side = 1, line = -1, text = get_credit(\"OpenStreetMap\"), col=\"tomato\")\n\n\n\n\n\n\n Corrigé"
  },
  {
    "objectID": "modules/geomatique/geomatic_raster.html",
    "href": "modules/geomatique/geomatic_raster.html",
    "title": "Géomatique avec R - raster",
    "section": "",
    "text": "Cette leçon vise à initier à la gestion, l’analyse et la représentation de données géographiques matricielles (raster) avec le package terra. Les différentes manipulations de données matricielles abordées sont :\n\nImport et export de raster\nAffichage graphique de raster\nModification d’un raster (reprojection, découpage, aggrégation, fusion…)\nAlgèbre spatial (locale, focale, zonales et globale)\nTransformation et conversion de raster"
  },
  {
    "objectID": "modules/geomatique/geomatic_raster.html#introduction",
    "href": "modules/geomatique/geomatic_raster.html#introduction",
    "title": "Géomatique avec R - raster",
    "section": "",
    "text": "Cette leçon vise à initier à la gestion, l’analyse et la représentation de données géographiques matricielles (raster) avec le package terra. Les différentes manipulations de données matricielles abordées sont :\n\nImport et export de raster\nAffichage graphique de raster\nModification d’un raster (reprojection, découpage, aggrégation, fusion…)\nAlgèbre spatial (locale, focale, zonales et globale)\nTransformation et conversion de raster"
  },
  {
    "objectID": "modules/geomatique/geomatic_raster.html#manuel",
    "href": "modules/geomatique/geomatic_raster.html#manuel",
    "title": "Géomatique avec R - raster",
    "section": " Manuel",
    "text": "Manuel\n\n\n\n\n\n Consulter en plein écran"
  },
  {
    "objectID": "modules/geomatique/geomatic_raster.html#exercice",
    "href": "modules/geomatique/geomatic_raster.html#exercice",
    "title": "Géomatique avec R - raster",
    "section": " Exercice",
    "text": "Exercice"
  },
  {
    "objectID": "modules/WIP/osm.html",
    "href": "modules/WIP/osm.html",
    "title": "Exploiter les données OSM",
    "section": "",
    "text": "Work in progress"
  },
  {
    "objectID": "ressources.html",
    "href": "ressources.html",
    "title": "Ressources",
    "section": "",
    "text": "analyse-R : Site web pour l’introduction à l’analyse d’enquêtes avec R et RStudio , crée et maintenue par Joseph Larmarange.\n Cartographie avec R : Manuel pour la création de cartes thématiques conformes aux règles de la sémiologie graphique et de la cartographie, T. giraud & H. Pecout.\n ElementR : Site web du groupe d’utilisateur·rice·s pour le traitement de l’information géographique avec R, coordonnée l’UMR Géographie-Cités, l’UMR PRODIG et l’UAR RIATE.\n Geocomputation with R : Ouvrage (en anglais mais le plus complet) sur la géographie computationnelle avec R, R. Lovelace, J. Nowosad et J. Muenchow.\n Géomatique avec R : Manuel pour la gestion et le traitements de données spatiales, T. giraud & H. Pecout.\n guide-R : Guide pour l’analyse de données d’enquêtes avec R (version actualisée et restructurée de nombreux chapitres d’analyse-R).\n Parcours R : Supports de formations R MTES & MCTRCT.\n Spatial Data Science with R and terra : Documentation très complète (anglais) sur l’utilisation du package terra, produite par l’auteur principal du package.\n Une introduction à R et au tidyverse : Manuel d’introduction à R, accessible et régulièrement mis à jour, par Julien Barnier.\n UtilitR : Documentation collaborative et open source sur R, destinée en premier lieu aux agents de l’INSEE.\nDes centaines de ressources diverses et gratuites (livres, articles, agrégateurs, cours, exercices, sites web, vidéos…) pour la pratique de R en sciences humaines et sociale sont référencées sur le site internet rzine.fr."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Crédits",
    "section": "",
    "text": "TIG’R a été initié en 2023 par Hugues pecout et Julien Dansou dans le cadre de l’école thématique Méthodes et outils de sciences territoriales organisée par le Collègue Internationnal des Sciences Territoirales en 2023. Ce site internet est desormais collaboratif. Il est ouvert à toute contribution.\n\n\n\nListe des contributeurs, par ordre alphabétique :\nLaurent Beauguitte\nAlexandre Cebeillac\nLéa Christophe\nRobin Cura\nJulien Dansou\nMégane Fernandez\nTimothée Giraud\nHugues Pecout\nSébastien Rey-Coyrehourcq\n\n\n\n\nConditions d’utilisation\nLe contenu de ce site web (support de cours et exercice inclus) est soumis à la Licence ouverte V2.0 d’Etalab.\nLe « réutilisateur » est libre de réutiliser l’ « information » :\n\nde la reproduire, la copier,\n\nde l’adapter, la modifier, l’extraire et la transformer, pour créer des « Informations dérivées », des produits ou des services,\n\nde la communiquer, la diffuser, la redistribuer, la publier et la transmettre,\n\nde l’exploiter à titre commercial, par exemple en la combinant avec d’autres informations, ou en l’incluant dans son propre produit ou application.\n\nSous réserve de :\n\nmentionner la paternité de l’ « Information » : sa source (cf. citation et la date de dernière mise à jour de l’ « Information » réutilisée.\n\n\n\n\n\n\n\n\nCitation\n\n\nPecout H., Dansou J., et al. 2023. « TIG’R :  Traitement de l’information géographique avec R ». 2023. https://ee2023.netlify.app/."
  },
  {
    "objectID": "presentation.html",
    "href": "presentation.html",
    "title": "Introduction",
    "section": "",
    "text": "Les différentes leçons peuvent être utilisées indépendamment les unes des autres. Il est néanmoins nécessaire de connaître les bases du langage R (objets, opérateurs, fonctions…) pour comprendre les différents cours et exercices proposés.\nSi vous êtes débutant·e, plusieurs supports libres et gratuits d’initiation à R sont indiqués dans les ressources annexes. Si vous êtes enseignant·e, vous pouvez également utilisés ces deux diaporamas d’introduction au langage R :\n\n\n\nConsulter en plein écran\n\n\n\n\n\n\nConsulter en plein écran\n\n\n\n\n\n\n\nInstaller R et Rstudio\n\n\n\nTéléchargez R et Rstudio depuis le site de Posit : https://posit.co/download/rstudio-desktop/\nPuis, suivez les instructions d’installation (classiques)\n\n\n\nLes modules thématiques\nLes leçons TIG’R sont classées en huit modules thématiques qui segmentent l’ensemble de la chaîne de traitement de données géographiques :\n\nDonnées (Import, collecte , connexion BD… et export de données)\nManipulation de données (gestion & traitement de données)\nStatistique descriptives (uni, bi et multivariée)\nReprésentation graphique (R-base & ggplot2)\nAnalyse de réseau (Théotire de graphes et analyse de réseau)\nGéomatique (traitement des données vectorielles et raster)\nCartographie thématique (statique et interactive)\nReproductibilité (Bonnes pratiques pour la recherche reproductible)\n\n\n\nLes packages utilisés\nAfin de maximiser la reproductibilité des traitements présentés, les différents modules de formation tentent de minimiser les dépendances à des packages. Les différents packages utilisés sont généralement des références dans la communauté R et laisser présager une certaine stabilité du code présenté.\nLes packages utilisés dans les différents modules thématiques sont :\n\nreadxl\nopenxlsx\nhaven\ndplyr\nlubridate\nstringr\nFactoMineR\nggplot2\nigraph\nsf\nterra\nmapsf\nleaflet\nmapview\nmaptiles\nosmdata\nosmextract\nosrm\nrmarkdown\nknitr\nminiCRAN\n\n\nInstallation\n\n# Liste des packages à installer\npackages &lt;- c(\"readxl\", \"openxlsx\", \"haven\",\n              \"dplyr\", \"lubridate\", \"stringr\",\n              \"ggplot2\", \"FactoMineR\", \"sf\",\n              \"terra\", \"mapsf\", \"rmarkdown\", \"knitr\", \"...\")\n\n\n# Détection de package à installer\nmissing_packages &lt;- packages [!(packages  %in% installed.packages()[,\"Package\"])]\n\n# Installation des packages manquants\nif(length(missing_packages)) install.packages(missing_packages)\n\n\n\n\nLe miniCRAN\nAfin de pouvoir reproduire les différentes leçons sans être dépendant d’une connexion internet, un miniCRAN (répertoire contenant les sources de l’ensemble des packages) est mis à disposition :\n\n Télécharger le miniCRAN\n\nUne fois le répertoire décompressé, vous pouvez installer les différents packages en local de la manière suivante :\n\n# Chemin d'accès jusqu'au répertoire \"miniCRAN\" copié sur votre machine.\nURL_dossier &lt;- paste0(\"file:///\", \"C:/Users/&lt;username&gt;/.../\", \"miniCRAN\")\n\n# Installation de ggplot2 depuis la source (répertoire miniCRAN)\ninstall.packages(\"ggplot2\", \n                 repos = URL_dossier,\n                 type = \"source\")\n\n\n\n\n\n\n\nNote\n\n\n\nModifier “C:/Users/username/…/” par le chemin d’accès correct.\n\n\n\n\nLes données utilisées\nLes différents jeux de données utilisés dans les modules sont présentés et mis à disposition sur cette page.\n\n\nConditions d’utilisation\nLe contenu de ce site web (support de cours et exercice inclus) est soumis à la Licence ouverte V2.0 d’Etalab. Le « Réutilisateur » est libre de réutiliser l’ « Information » :\n\nde la reproduire, la copier,\n\nde l’adapter, la modifier, l’extraire et la transformer, pour créer des « Informations dérivées », des produits ou des services,\n\nde la communiquer, la diffuser, la redistribuer, la publier et la transmettre,\n\nde l’exploiter à titre commercial, par exemple en la combinant avec d’autres informations, ou en l’incluant dans son propre produit ou application.\n\nSous réserve de :\n\nmentionner la paternité de l’ « Information » : sa source (cf. citation et la date de dernière mise à jour de l’ « Information » réutilisée.\n\n\n\nCitation TIG’R\n\n\nPecout H., Dansou J., et al. 2023. « TIG’R :  Traitement de l’information géographique avec R ». 2023. https://ee2023.netlify.app/."
  },
  {
    "objectID": "correction/ggplot2/Correction_ggplot.html",
    "href": "correction/ggplot2/Correction_ggplot.html",
    "title": "Application Tidyverse & ggplot2",
    "section": "",
    "text": "Exercice 1 ~ Application Tidyverse\n\n1. Importer la base de données DEV_AFRICA_2018 sous le nom DevAfrica2018\n\nlibrary(tidyverse)\n\n# Import des métadonnées\nmetaDataDEVAFRICA  &lt;- read.table(file = \"data/DEV_AFRICA_2018/afrika_don_meta.csv\", \n                           header = TRUE,\n                           sep= \";\",\n                           encoding = \"UTF-8\")\n\nlibrary(readxl)\nDevAfrica2018 &lt;- read_excel(\"data/DEV_AFRICA_2018/afrika_don.xls\")\n\n\n\n2. Sélectionner la liste des pays et leur region d’appartenance\n\n# Sélection de la liste des pays et leur region d'appartenance\nDevAfrica2018 %&gt;%\n  select(nom, SUBREG)\n\n# A tibble: 49 × 2\n   nom                 SUBREG         \n   &lt;chr&gt;               &lt;chr&gt;          \n 1 Angola              Middle Africa  \n 2 Burundi             Eastern Africa \n 3 Bénin               Western Africa \n 4 Burkina Faso        Western Africa \n 5 Botswana            Southern Africa\n 6 Rep. Centrafricaine Middle Africa  \n 7 Côte d'Ivoire       Western Africa \n 8 Cameroun            Middle Africa  \n 9 Congo, Rép. dém. du Middle Africa  \n10 Congo               Middle Africa  \n# ℹ 39 more rows\n\n\n\n\n3. Quelles sont les variables de la base de données dont le nom commence par la lettre “P”\n\n# Select ion de colonnes par nom : sélectionner les variables dont le nom commencent par \"P\" \nDevAfrica2018 %&gt;%\n  select(starts_with(\"P\"))\n\n# A tibble: 49 × 2\n     POP PIB               \n   &lt;dbl&gt; &lt;chr&gt;             \n 1 31.3  6793.7084905000002\n 2 11.4  756.59407529999999\n 3 11.6  3224.0433155000001\n 4 20.0  2160.5894579999999\n 5  2.28 17700.315175      \n 6  4.71 938.98882209999999\n 7 25.4  5133.5904630000005\n 8 25.5  3628.1176970000001\n 9 85.4  1091.9212769999999\n10  5.31 3356.2418290000001\n# ℹ 39 more rows\n\n\n\n\n4. Quelles sont les variables de la base de données dont le nom contient la lettre “P”\n\n# sélectionner les variables dont le nom contient la lettre \"P\" \nDevAfrica2018 %&gt;%\n  select(contains(\"P\"))\n\n# A tibble: 49 × 5\n     POP PIB                EMPAGR EMPSER ESPVIE\n   &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 31.3  6793.7084905000002   50.4  41.4    61.0\n 2 11.4  756.59407529999999   92.0   6.50   61.4\n 3 11.6  3224.0433155000001   38.9  42.1    61.6\n 4 20.0  2160.5894579999999   25.6  40.9    61.4\n 5  2.28 17700.315175         20.9  61.0    69.4\n 6  4.71 938.98882209999999   77.4  17.2    53.0\n 7 25.4  5133.5904630000005   40.5  46.5    57.6\n 8 25.5  3628.1176970000001   43.8  41.4    59.1\n 9 85.4  1091.9212769999999   65.6  24.7    60.5\n10  5.31 3356.2418290000001   34.4  43.7    64.4\n# ℹ 39 more rows\n\n\n\n\n5. Renommer la variable “PIB” en “ProduitInterieurBrut”\n\n# Renommer la variable \"PIB\"  par \"ProduitInterieurBrut\"\nDevAfrica2018 %&gt;%\n  rename(ProduitInterieurBrut = PIB)\n\n# A tibble: 49 × 26\n   iso3  name        nom     POP ProduitInterieurBrut IDH   ADOFEC CO2HAB EMPAGR\n   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;                &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 AGO   Angola      Ango… 31.3  6793.7084905000002   0.58…  153.  1.12     50.4\n 2 BDI   Burundi     Buru… 11.4  756.59407529999999   0.432   56.2 0.0467   92.0\n 3 BEN   Benin       Bénin 11.6  3224.0433155000001   0.54…   87.4 0.622    38.9\n 4 BFA   Burkina Fa… Burk… 20.0  2160.5894579999999   0.44…  106.  0.197    25.6\n 5 BWA   Botswana    Bots…  2.28 17700.315175         0.73…   46.3 2.96     20.9\n 6 CAF   Central Af… Rep.…  4.71 938.98882209999999   0.39…  130.  0.0651   77.4\n 7 CIV   Côte d'Ivo… Côte… 25.4  5133.5904630000005   0.53…  118.  0.335    40.5\n 8 CMR   Cameroon    Came… 25.5  3628.1176970000001   0.56…  108.  0.323    43.8\n 9 COD   Dem. Rep. … Cong… 85.4  1091.9212769999999   0.47…  125.  0.0242   65.6\n10 COG   Congo       Congo  5.31 3356.2418290000001   0.57…  113.  0.616    34.4\n# ℹ 39 more rows\n# ℹ 17 more variables: EMPSER &lt;dbl&gt;, INTERN &lt;dbl&gt;, ESPVIE &lt;dbl&gt;, AGEMED &lt;dbl&gt;,\n#   TELMOB &lt;dbl&gt;, MORINF &lt;dbl&gt;, TXMIGR &lt;dbl&gt;, DVIEUX &lt;dbl&gt;, TUBERC &lt;dbl&gt;,\n#   URBANI &lt;dbl&gt;, DJEUNE &lt;dbl&gt;, SUBREG &lt;chr&gt;, LOCKED &lt;dbl&gt;, COLFRA &lt;dbl&gt;,\n#   COLGBR &lt;dbl&gt;, LANGFR &lt;dbl&gt;, LANGEN &lt;dbl&gt;\n\n\n\n\n6. Calculer le taux de dépendance jeune par sous-région\n\n# Proportion (Pourcentage) de jeunes par sous région\nDevAfrica2018 %&gt;%\n  group_by(SUBREG) %&gt;%\n  summarise(depJeune = mean(DJEUNE))\n\n# A tibble: 5 × 2\n  SUBREG          depJeune\n  &lt;chr&gt;              &lt;dbl&gt;\n1 Eastern Africa      77.3\n2 Middle Africa       79.3\n3 Northern Africa     49.1\n4 Southern Africa     55.8\n5 Western Africa      79.6\n\n\n\n\n7. Ordonner les pays par sous région\n\n# Trier les pays par niveau de PIB croissant\nDevAfrica2018 %&gt;%\n  arrange(desc(SUBREG))\n\n# A tibble: 49 × 26\n   iso3  name  nom     POP PIB   IDH   ADOFEC CO2HAB EMPAGR EMPSER INTERN ESPVIE\n   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 BEN   Benin Bénin 11.6  3224… 0.54…   87.4  0.622   38.9   42.1  20      61.6\n 2 BFA   Burk… Burk… 20.0  2160… 0.44…  106.   0.197   25.6   40.9  16      61.4\n 3 CIV   Côte… Côte… 25.4  5133… 0.53…  118.   0.335   40.5   46.5  46.8    57.6\n 4 GHA   Ghana Ghana 30.1  5303… 0.60…   67.3  0.615   29.8   48.7  39      63.9\n 5 GIN   Guin… Guin… 12.6  2531… 0.47…  137.   0.256   62.0   31.9  18      61.4\n 6 GMB   Gamb… Gamb…  2.31 2175… 0.49…   79.8  0.268   27.4   56.9  19.8    61.9\n 7 GNB   Guin… Guin…  1.90 1969… 0.47…  105.   0.181   68.3   24.7   3.93   58.2\n 8 LBR   Libe… Libé…  4.88 1462… 0.47…  136.   0.323   43.4   46.3   7.98   63.9\n 9 MLI   Mali  Mali  19.4  2305… 0.43…  170.   0.187   62.8   29.6  13      59.1\n10 MRT   Maur… Maur…  4.46 5119… 0.54…   72.0  0.604   51.7   35.5  20.8    64.8\n# ℹ 39 more rows\n# ℹ 14 more variables: AGEMED &lt;dbl&gt;, TELMOB &lt;dbl&gt;, MORINF &lt;dbl&gt;, TXMIGR &lt;dbl&gt;,\n#   DVIEUX &lt;dbl&gt;, TUBERC &lt;dbl&gt;, URBANI &lt;dbl&gt;, DJEUNE &lt;dbl&gt;, SUBREG &lt;chr&gt;,\n#   LOCKED &lt;dbl&gt;, COLFRA &lt;dbl&gt;, COLGBR &lt;dbl&gt;, LANGFR &lt;dbl&gt;, LANGEN &lt;dbl&gt;\n\n\n\n\n\nExercice 2 : Application ggplot2\n\n1. Recoder la variable « POP » en « Population » en trois catégories :\n\nMoins de 10 millions,\n\n10 -- 25 millions,\n\n&gt; 25 millions.\n\n\n# Recodage de la variable \nDevAfrica2018$Population &lt;- cut(DevAfrica2018$POP,  \n                                breaks = c(1,10,25,200), \n                                labels = c(\"Moins de 10 millions\", \n                                           \"10 - 25 millions\", \n                                           \"&gt; 25 millions\"), \n                                right = F)\n\n\n\n2. Représentation graphique de l’effectif des pays par sous-région\n\nlibrary(ggplot2)\n\nggplot(DevAfrica2018) + \n   geom_histogram(aes(x=SUBREG), stat = 'count')\n\n\n\n3. Ajout des étiquettes (titre du graphique, étiquette axe abscisse, axe des ordonnées) au graphique.\n\nggplot(DevAfrica2018) + \n  geom_histogram(aes(x=SUBREG), stat = 'count')+\n  ggtitle(\"Effectif de population par sous-région\")+\n  xlab(\"Sous région\") + \n  ylab(\"Effectif de population\")\n\n\n\n\n\n\n4. Construction d’une boite à moustaches de l’espérance de vie à la naissance par sous-région.\n\nggplot(DevAfrica2018) + \n  geom_boxplot(aes(x=SUBREG, y=ESPVIE))\n\n\n\n5. Construction d’une boite à moustache de l’espérance de vie à la naissance par sous-région. Note : faites les largeurs des boites à moustaches proportionnelles à l’effectif de la population par sous-région.\n\nggplot(DevAfrica2018) + \n  geom_boxplot(aes(x=SUBREG, y=ESPVIE), varwidth = TRUE)\n\n\n\n\n\n\n6. Ajout des étiquettes (titre du graphique, étiquette axe abscisse, axe des ordonnées) au graphique.\n\nfigure1 &lt;- ggplot(DevAfrica2018) + \n  geom_boxplot(aes(x=SUBREG, y=ESPVIE), varwidth = TRUE) + \n  xlab(\"Sous région\") + \n  ylab(\"Espérence de vie à la naissance\") + \n  ggtitle(\"Expérance de vie à la naissance par sous-règion\")\n\n# Sauvegarde du graphique\nggsave(\"figure1.png\", dpi = 3000)\n\nSaving 7 x 5 in image"
  }
]